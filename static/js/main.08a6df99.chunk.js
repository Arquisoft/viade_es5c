(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t){e.exports=solid.auth},125:function(e,t,n){e.exports=n(228)},17:function(e,t){e.exports=solid.data},201:function(e,t){},207:function(e,t){},209:function(e,t){},223:function(e,t,n){},228:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"documentExists",function(){return _}),n.d(r,"createDoc",function(){return B}),n.d(r,"deleteFile",function(){return W}),n.d(r,"createDocument",function(){return V}),n.d(r,"createDocumentWithTurtle",function(){return q}),n.d(r,"createNonExistentDocument",function(){return G}),n.d(r,"fetchLdflexDocument",function(){return J}),n.d(r,"resourceExists",function(){return X}),n.d(r,"userAnauthorized",function(){return K}),n.d(r,"discoverInbox",function(){return Y}),n.d(r,"getLinkedInbox",function(){return H});var a={};n.r(a),n.d(a,"buildPathFromWebId",function(){return ae}),n.d(a,"getAppStorage",function(){return ie}),n.d(a,"createInitialFiles",function(){return oe}),n.d(a,"inboxLinkSetting",function(){return ce}),n.d(a,"ensureSlash",function(){return le}),n.d(a,"checkAndInitializeInbox",function(){return ue});var i={};n.r(i),n.d(i,"checkSpecificAppPermission",function(){return de}),n.d(i,"checkPermissions",function(){return pe}),n.d(i,"checkOrSetInboxAppendPermissions",function(){return fe}),n.d(i,"checkOrSetNoPermissions",function(){return me}),n.d(i,"checkWrittenPermissions",function(){return ge}),n.d(i,"setPermissionInRouteToFriend",function(){return be});var o={};n.r(o),n.d(o,"publish",function(){return Mo});var c=n(0),l=n.n(c),u=n(19),s=n.n(u),d=n(84),p=n(16),f=n(104),m=n.n(f),g=n(105),b=n.n(g),h=new m.a(null,{loadPath:"locales/{{lng}}/{{ns}}.json"});d.a.use(h).use(b.a).use(p.b).init({fallbackLng:"en-US",debug:!1,whitelist:["en-US","en","es"],react:{wait:!0}});var v=d.a,x=n(36),w=n(2),E=n(3);function k(){var e=Object(w.a)(["\n  background-image: linear-gradient(135deg, #B05103 0%, #FD7200 50%, #F48E3C 100%);\n  background-repeat: no-repeat;\n  box-sizing: border-box;\n  height: 100%;\n  width: 100%;\n  position: relative;\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-image: url('img/background-pattern.svg');\n    filter: opacity(30%);\n  }\n"]);return k=function(){return e},e}var y=E.default.div(k()),O=function(e){var t=e.children,n=e.className;return l.a.createElement(y,{className:n},t)};function j(){var e=Object(w.a)(["\n  position: relative;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n\n  h1 {\n    box-sizing: border-box;\n    padding: 0;\n    font-size: 28px;\n    color: rgb(40, 55, 82);\n    letter-spacing: 1.4px;\n    line-height: 40px;\n    text-align: center;\n    margin: 40px 0;\n    font-weight: bold;\n  }\n"]);return j=function(){return e},e}var N=E.default.section(j()),S=function(e){var t=e.children,n=e.className;return l.a.createElement(N,{className:n},l.a.createElement("div",{className:"wrapper"},t))},C=n(4),I=n.n(C);function L(){var e=Object(w.a)(["\n    @media (min-width: ","em) {\n      ","\n    }\n  "]);return L=function(){return e},e}var R={desktop:992,desktopSm:1024,tablet:768,phone:576},P=Object.keys(R).reduce(function(e,t){return e[t]=function(){return Object(E.css)(L(),R[t]/16,E.css.apply(void 0,arguments))},e},{}),D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;return Object(x.c)(l.a.createElement(nt,{content:e,title:t,type:"error",link:n}),{autoClose:!1,className:"solid-toaster toaster-error",type:"error"})},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;return Object(x.c)(l.a.createElement(nt,{content:e,title:t,type:"success",link:n}),{className:"solid-toaster toaster-success",type:"success"})},A=n(5),T=n(11),M=n.n(T),z=n(17),U=n.n(z),_=function(){var e=Object(A.a)(I.a.mark(function e(t){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M.a.fetch(t,{headers:{"Content-Type":"text/turtle"}}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(A.a)(I.a.mark(function e(t,n){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.fetch(t,n);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t,n){return e.apply(this,arguments)}}(),W=function(){var e=Object(A.a)(I.a.mark(function e(t){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.fetch(t,{method:"DELETE"});case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(A.a)(I.a.mark(function e(t){var n,r,a=arguments;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"",e.prev=1,r={method:"PUT",headers:{"Content-Type":"text/turtle"},body:n},e.next=5,B(t,r);case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(A.a)(I.a.mark(function e(t){var n,r=arguments;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"",e.prev=1,e.abrupt("return",B(t,{method:"PUT",headers:{"Content-Type":"text/turtle"},body:n}));case 5:throw e.prev=5,e.t0=e.catch(1),e.t0;case 8:case"end":return e.stop()}},e,null,[[1,5]])}));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(A.a)(I.a.mark(function e(t){var n,r,a=arguments;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"",e.prev=1,e.next=4,_(t);case 4:return r=e.sent,e.abrupt("return",404===r.status?V(t,n):null);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(A.a)(I.a.mark(function e(t){var n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(t);case 3:if(404!==e.sent.status){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,U.a[t];case 8:return n=e.sent,e.abrupt("return",n);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(A.a)(I.a.mark(function e(t){var n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.fetch(t);case 3:return n=e.sent,e.abrupt("return",403===n.status||200===n.status);case 7:e.prev=7,e.t0=e.catch(0),D(e.t0.message,"Error");case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(A.a)(I.a.mark(function e(t){var n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.fetch(t);case 3:return n=e.sent,e.abrupt("return",!0===n.ok&&"User Unauthorized"===n.statusText);case 7:e.prev=7,e.t0=e.catch(0),D(e.t0.message,"Error");case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(A.a)(I.a.mark(function e(t){var n,r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X(t);case 3:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,U.a[t]["ldp:inbox"];case 8:if(!(n=e.sent)){e.next=15;break}return e.next=12,n.value;case 12:e.t0=e.sent,e.next=16;break;case 15:e.t0=!1;case 16:return r=e.t0,e.abrupt("return",r);case 20:throw e.prev=20,e.t1=e.catch(0),e.t1;case 23:case"end":return e.stop()}},e,null,[[0,20]])}));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(A.a)(I.a.mark(function e(t){var n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a[t].inbox;case 3:if(!(n=e.sent)){e.next=6;break}return e.abrupt("return",n.value);case 6:return e.abrupt("return","");case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),$=n(31),Z=n(53),Q=n(42),ee=n(9),te=n(47),ne=n(231),re="http://www.w3.org/ns/ldp#",ae=function(e,t){if(!e)return!1;var n=new URL("object"===typeof e?e.webId:e).origin;return"".concat(n,"/").concat(t)},ie=function(){var e=Object(A.a)(I.a.mark(function e(t){var n,r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a[t].storage;case 2:if(n=e.sent,(r=n&&n.value.trim().length>0?n.value:"")&&!r.endsWith("/")&&(r="".concat(r,"/")),r&&0!==r.trim().length){e.next=7;break}return e.abrupt("return",ae(t,"viade/"));case 7:return e.abrupt("return","".concat(r).concat("viade/"));case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(A.a)(I.a.mark(function e(t){var n,r,o;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.checkSpecificAppPermission(t,ee.AccessControlList.MODES.WRITE);case 3:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,a.getAppStorage(t);case 8:return n=e.sent,r="".concat(n,"data.ttl"),o="".concat(n,"settings.ttl"),e.next=13,X(n);case 13:if(e.sent){e.next=17;break}return e.next=17,B(U.a,{method:"PUT",headers:{"Content-Type":"text/turtle"}});case 17:return e.next=19,i.checkWrittenPermissions(n,t);case 19:if(e.sent){e.next=22;break}return e.abrupt("return",!1);case 22:return e.next=24,X(r);case 24:if(e.sent){e.next=28;break}return e.next=28,V(r);case 28:return e.next=30,X(o);case 30:if(e.sent){e.next=34;break}return e.next=34,V(o);case 34:return e.abrupt("return",!0);case 37:return e.prev=37,e.t0=e.catch(0),D(e.t0.message,"Error"),e.abrupt("return",!1);case 41:case"end":return e.stop()}},e,null,[[0,37]])}));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(A.a)(I.a.mark(function e(t,n){var r,a,i,o,c,l=arguments;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]?l[2]:"settings.ttl",a=te.a,i=a.namedNode,(o=new ne.a({prefixes:{ldp:re},format:"text/turtle"})).addQuad(i(""),i("ldp:inbox"),i(n)),c={ok:!1},e.next=8,o.end(function(){var e=Object(A.a)(I.a.mark(function e(n,a){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.fetch(le(t,!0)+r,{method:"PUT",headers:{"Content-Type":"text/turtle"},body:a});case 2:(c=e.sent).status<200||c.status;case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());case 8:return e.abrupt("return",c);case 9:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),le=function(e,t){var n=e.endsWith("/");return n&&!t?e.substr(0,e.length-1):!n&&t?"".concat(e,"/"):e},ue=function(){var e=Object(A.a)(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","");case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),se=function(e,t){return t.every(function(t){return e.includes(t)})},de=function(){var e=Object(A.a)(I.a.mark(function e(t,n){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.AppPermission.checkPermissions(t);case 2:return r=e.sent,e.abrupt("return",r.permissions.includes(n));case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),pe=function(){var e=Object(A.a)(I.a.mark(function e(t,n){var r,a,i,o,c,l;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.AppPermission.checkPermissions(t);case 2:if(r=e.sent,a=ee.AccessControlList.MODES,i=a.APPEND,o=a.READ,c=a.WRITE,l=a.CONTROL,null!==r&&null!==r.permissions&&se(r.permissions,[i,o,c,l])){e.next=8;break}return D(n.message,n.title,{label:n.label,href:n.href}),e.abrupt("return",!1);case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),fe=function(){var e=Object(A.a)(I.a.mark(function e(t,n){var r,a,i,o,c;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new ee.AccessControlList(n,t),e.next=3,r.getPermissions();case 3:if(a=e.sent,i=a.filter(function(e){return null===e.agents}),!(i.filter(function(e){return e.modes.includes(ee.AccessControlList.MODES.APPEND)}).length<=0)){e.next=17;break}return e.prev=7,o=[{agents:null,modes:[ee.AccessControlList.MODES.APPEND]}],c=new ee.AccessControlList(n,t),e.next=12,c.createACL(o);case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(7),e.t0;case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}},e,null,[[7,14]])}));return function(t,n){return e.apply(this,arguments)}}(),me=function(){var e=Object(A.a)(I.a.mark(function e(t,n){var r,a,i,o,c;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new ee.AccessControlList(n,t),e.next=3,r.getPermissions();case 3:if(a=e.sent,i=a.filter(function(e){return null===e.agents}),!(i.filter(function(e){return 0===e.modes.length}).length<=0)){e.next=17;break}return e.prev=7,o=[{agents:null,modes:[]}],c=new ee.AccessControlList(n,t),e.next=12,c.createACL(o);case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(7),e.t0;case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}},e,null,[[7,14]])}));return function(t,n){return e.apply(this,arguments)}}(),ge=function(){var e=Object(A.a)(I.a.mark(function e(t,n){var r,a,i,o;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new ee.AccessControlList(n,t),e.next=3,r.getPermissions();case 3:if(a=e.sent,!((i=a.filter(function(e){return null!==e.agents})).length>0)){e.next=14;break}if(!((o=i.filter(function(e){return e.agents.includes(n)})).length>0)){e.next=14;break}if(!(o.filter(function(e){return e.modes.includes(ee.AccessControlList.MODES.WRITE)}).length<=0)){e.next=13;break}return e.abrupt("return",!1);case 13:return e.abrupt("return",!0);case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),be=function(){var e=Object(A.a)(I.a.mark(function e(t,n,r){var a,i,o,c,l,u,s,d,p,f;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=new ee.AccessControlList(t,r),e.next=3,a.getPermissions();case 3:if(i=e.sent,o=[ee.AccessControlList.MODES.READ],!((c=i.filter(function(e){return e.modes.toString()===o.toString()})).length>0)){e.next=25;break}if(!(l=c[0]).agents.includes(n)){e.next=11;break}e.next=23;break;case 11:return(u=l.agents).push(n),e.prev=13,s=[{agents:u,modes:[ee.AccessControlList.MODES.READ]}],d=new ee.AccessControlList(t,r),e.next=18,d.createACL(s);case 18:e.next=23;break;case 20:throw e.prev=20,e.t0=e.catch(13),e.t0;case 23:e.next=35;break;case 25:return e.prev=25,p=[{agents:n,modes:[ee.AccessControlList.MODES.READ]}],f=new ee.AccessControlList(t,r),e.next=30,f.createACL(p);case 30:e.next=35;break;case 32:throw e.prev=32,e.t1=e.catch(25),e.t1;case 35:case"end":return e.stop()}},e,null,[[13,20],[25,32]])}));return function(t,n,r){return e.apply(this,arguments)}}();function he(){var e=Object(w.a)(["\n    min-width: 420px;\n  "]);return he=function(){return e},e}function ve(){var e=Object(w.a)(["\n  display: flex;\n  flex-direction: column;\n  background: #ffffff;\n  border-radius: 4px;\n  box-sizing: border-box;\n  box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.3);\n  min-width: 310px;\n  min-height: 403px;\n  position: relative;\n  margin: auto;\n  padding: 40px;\n  text-align: center;\n\n  & > h1,\n  & > h2 {\n    padding: 0;\n    margin: 0;\n  }\n\n  @media screen and (max-width: 992px) {\n    width: auto;\n  }\n  ","\n"]);return ve=function(){return e},e}var xe=E.default.div(ve(),P.tablet(he())),we=function(e){var t=e.children,n=e.className;return l.a.createElement(xe,{className:n},t)},Ee=n(6),ke=n(8),ye=n(12),Oe=n(13),je=n(14),Ne=n(21),Se=n(108),Ce=n.n(Se);function Ie(){var e=Object(w.a)(["\n  border-left: none;\n  border-top: 1px solid rgba(8, 53, 117, 0.1);\n  width: 100%;\n  background: #fff;\n  padding: 0;\n  text-align: left;\n  button {\n    background: #fff;\n    line-height: 2;\n    padding: 1rem;\n    text-align: left;\n    cursor: pointer;\n    width: 100%;\n    border: none;\n    border-radius: 0px;\n    &:hover {\n      background: linear-gradient(\n        to right,\n        rgba(124, 77, 255, 0.2) 0%,\n        rgba(24, 169, 230, 0.2) 50%,\n        rgba(1, 201, 234, 0.2) 100%\n      );\n      transition: all 0.5s ease-in-out;\n      color: #083575;\n    }\n  }\n  .flag-icon {\n    margin-right: 10px;\n  }\n"]);return Ie=function(){return e},e}function Le(){var e=Object(w.a)(["\n  position: absolute;\n  top: 100%;\n  right: 0;\n  z-index: 2;\n  ul {\n    display: flex;\n    position: relative;\n    min-width: 200px;\n    flex-direction: column;\n    right: 0;\n    height: auto;\n    background: #fff;\n    transition: all 0.25s ease-in-out;\n    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);\n  }\n  .profile-list & {\n    position: relative;\n    top: 0;\n  }\n"]);return Le=function(){return e},e}function Re(){var e=Object(w.a)(["height: 100%;"]);return Re=function(){return e},e}function Pe(){var e=Object(w.a)(["\n  position: relative;\n  border: none;\n  background: none;\n  width: 100%;\n  padding: 0 16px;\n  margin: 5px 0;\n  display: flex;\n  align-items: center;\n\n  &:focus {\n    outline: none;\n  }\n  ","\n"]);return Pe=function(){return e},e}function De(){var e=Object(w.a)(["display: none; path { display: none }"]);return De=function(){return e},e}function Fe(){var e=Object(w.a)(["\n  position: relative;\n  height: auto;\n  width: 100%;\n  padding: 0 !important;\n\n  .icon {\n    margin-right: 5px;\n    font-size: 1rem;\n    color: #7c4dff;\n    ","\n  }\n"]);return Fe=function(){return e},e}var Ae=E.default.div(Fe(),P.desktop(De())),Te=E.default.button(Pe(),P.desktop(Re())),Me=E.default.div(Le()),ze=E.default.li(Ie()),Ue=function(e){function t(e){var n;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(Oe.a)(t).call(this,e))).toggleOpen=function(){n.props.open||n.setState(function(e){return{open:!e.open}})},n.renderIcon=function(e){return e.customIcon?l.a.createElement("div",{className:"flag-icon flag-icon-".concat(e.icon)}):l.a.createElement(Ne.a,{icon:e.icon,className:"checked icon"})},n.state={open:!1},n}return Object(je.a)(t,e),Object(ke.a)(t,[{key:"handleClickOutside",value:function(){this.setState({open:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.actions,r=t.children,a=t.className,i=t.hover,o=t.open,c=this.state.open;return l.a.createElement(Ae,{className:a,onClick:this.toggleOpen,onMouseEnter:i?this.toggleOpen:null,onMouseLeave:i?this.toggleOpen:null},l.a.createElement(Te,{onClick:this.toggleOpen,"data-testid":"dropdownMain"},r),(c||o)&&l.a.createElement(Me,{className:"dropdownItem"},l.a.createElement("ul",{"data-testid":"list"},n.map(function(t,n){return l.a.createElement(ze,{key:n,className:"item"},l.a.createElement("button",{onClick:t.onClick,type:"button"},t.icon&&e.renderIcon(t),l.a.createElement("span",null,t.label)))}))))}}]),t}(c.Component);Ue.defaultProps={hover:!1};var _e=Ce()(Ue);function Be(){var e=Object(w.a)(["\n  position: absolute;\n  top: -6px;\n  right: -6px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 14px;\n  height: 14px;\n  border-radius: 50%;\n  box-sizing: border-box;\n  border: none;\n  background: #1ca9e5;\n  color: #ffffff;\n  font-size: 9px;\n  font-family: Raleway;\n  font-style: normal;\n  font-weight: bold;\n  line-height: normal;\n"]);return Be=function(){return e},e}var We=E.default.div(Be()),Ve=function(e){var t=e.badge;return l.a.createElement(We,{className:"badgeWrapper"},t)};function qe(){var e=Object(w.a)(["\n  background-color: #7c4dff;\n  animation: "," 1.3s infinite ease-in-out;\n  animation-delay: ","s;\n"]);return qe=function(){return e},e}function Ge(){var e=Object(w.a)(["\n  width: 80px;\n  height: 80px;\n  margin: 100px auto;\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-template-rows: repeat(3, 1fr);\n"]);return Ge=function(){return e},e}function Je(){var e=Object(w.a)(["\n  position: ",";\n  z-index: 9999;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(255, 255, 255, 0.6);\n"]);return Je=function(){return e},e}function Xe(){var e=Object(w.a)(["\n\t0%,\n\t70%,\n\t100% {\n\t\ttransform: scale3D(1, 1, 1);\n\t}\n\n\t35% {\n\t\ttransform: scale3D(0, 0, 1);\n\t}\n"]);return Xe=function(){return e},e}var Ke=Object(E.keyframes)(Xe()),Ye=E.default.div(Je(),function(e){return e.absolute?"absolute":"fixed"}),He=E.default.div(Ge()),$e=E.default.span(qe(),Ke,function(e){return e.delay||0}),Ze=function(e){function t(){var e,n;Object(Ee.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(ye.a)(this,(e=Object(Oe.a)(t)).call.apply(e,[this].concat(a)))).state={show:!1},n.show=function(){return n.setState({show:!0})},n}return Object(je.a)(t,e),Object(ke.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.delay;this.delayTimer=setTimeout(this.show,e)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.delayTimer)}},{key:"render",value:function(){var e=this.state.show,t=this.props.absolute;return e&&l.a.createElement(Ye,{absolute:t},l.a.createElement(He,null,[{id:"0",value:.2},{id:"1",value:.3},{id:"2",value:.4},{id:"3",value:.1},{id:"4",value:.2},{id:"5",value:.3},{id:"6",value:0},{id:"7",value:.1},{id:"8",value:.2}].map(function(e){var t=e.id,n=e.value;return l.a.createElement($e,{key:t,delay:n})})))}}]),t}(c.Component);Ze.defaultProps={delay:300,absolute:!1};var Qe=Ze;function et(){var e=Object(w.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  flex: 1 1 auto;\n\n  & > span {\n    font-weight: bold;\n    text-transform: uppercase;\n  }\n\n  & > p {\n    margin: 0;\n    padding: 2px 0;\n    color: inherit;\n  }\n\n  a {\n    color: white;\n    display: block;\n    margin: 5px 0;\n  }\n"]);return et=function(){return e},e}var tt=E.default.div(et()),nt=function(e){var t=e.title,n=e.content,r=e.link;return l.a.createElement(tt,null,l.a.createElement("span",null,t),l.a.createElement("p",null,n),r&&l.a.createElement("a",{href:r.href,target:"_blank",rel:"noopener noreferrer"},r.label))},rt=n(33),at={en:{id:"en"},es:{id:"es"},"en-US":{id:"en-US"}},it=function(e){function t(){var e;return Object(Ee.a)(this,t),(e=Object(ye.a)(this,Object(Oe.a)(t).call(this))).getLanguage=function(){return localStorage.getItem("i18nextLng")||"en"},e.onLanguageSelect=function(t){var n=e.props.i18n;x.c.dismiss(),n.changeLanguage(t),e.setState({language:e.getLanguage()})},e.state={language:e.getLanguage()},e}return Object(je.a)(t,e),Object(ke.a)(t,[{key:"render",value:function(){var e=this,t=this.props.t,n=this.state.language,r=[{label:t("navBar.languages.en"),onClick:function(){return e.onLanguageSelect("en")},customIcon:!0},{label:t("navBar.languages.es"),onClick:function(){return e.onLanguageSelect("es")},customIcon:!0}];return l.a.createElement(_e,{actions:r,hover:!0},l.a.createElement("div",null,at[n.toLocaleLowerCase().toString()].id.toUpperCase()))}}]),t}(c.Component),ot=n(24),ct=n(81),lt=n.n(ct);function ut(){var e=Object(w.a)(["\n  background: rgb(239, 89, 80);\n  margin-right: 1em;\n"]);return ut=function(){return e},e}function st(){var e=Object(w.a)(["\n  background: rgb(44, 105, 164);\n  margin-left: 1em;\n"]);return st=function(){return e},e}function dt(){var e=Object(w.a)(["\n  flex: 1 0 auto;\n  color: #fff;\n  text-transform: uppercase;\n  border: none;\n  font-weight: 700;\n  letter-spacing: 1px;\n  font-size: 0.7rem;\n  padding: 0.7em 0;\n"]);return dt=function(){return e},e}function pt(){var e=Object(w.a)(["\n  padding: 2em 0;\n  display: flex;\n"]);return pt=function(){return e},e}function ft(){var e=Object(w.a)(["\n  display: flex;\n  flex-direction: column;\n\n  & > div#modal-actions {\n    align-self: flex-end;\n    padding: 16px 0 0 0;\n    & button {\n      margin-left: 8px;\n    }\n  }\n"]);return ft=function(){return e},e}var mt=E.default.div(ft()),gt=E.default.div(pt()),bt=E.default.button(dt()),ht=Object(E.default)(bt)(st()),vt=Object(E.default)(bt)(ut());lt.a.setAppElement("#root");var xt=function(e){var t=e.onAccept,n=e.onDecline,r=e.options,a=e.parentSelector,i=Object(c.useState)(!1),o=Object(ot.a)(i,2),u=o[0],s=o[1],d=r.message,p=r.messageComponent,f=r.acceptText,m=r.declineText,g=function(){var e=Object(A.a)(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:s(!1);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(A.a)(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:s(!1);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)(function(){s(!0)},[]),l.a.createElement(lt.a,{isOpen:u,ariaHideApp:!1,parentSelector:function(){return document.querySelector(a)},overlayClassName:"modal-overlay",className:"modal-content"},l.a.createElement(mt,null,l.a.createElement("div",null,p?l.a.createElement(p,null):d),l.a.createElement(gt,null,l.a.createElement(vt,{type:"button",onClick:b,"data-testid":"declineButton"},m||"Decline"),l.a.createElement(ht,{type:"button",onClick:g,"data-testid":"acceptButton"},f||"Accept"))))};xt.defaultProps={parentSelector:"#root"};var wt=n(49),Et=n(115),kt=n(116),yt=n(121),Ot=n(234),jt=function(e){function t(e){var n;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(Oe.a)(t).call(this,e))).state={hasError:!1,error:null,info:null},n}return Object(je.a)(t,e),Object(ke.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,error:e,info:t})}},{key:"render",value:function(){var e=this.state,t=e.hasError,n=e.error,r=e.info,a=this.props,i=a.component,o=a.children;return t?i(n,r):o}}]),t}(c.Component);function Nt(){var e=Object(w.a)(["order: 2;"]);return Nt=function(){return e},e}function St(){var e=Object(w.a)(["\n  align-self: center;\n  order: 1;\n\n  ","\n"]);return St=function(){return e},e}function Ct(){var e=Object(w.a)(["order: 1;"]);return Ct=function(){return e},e}function It(){var e=Object(w.a)(["\n  align-self: center;\n  order: 2;\n\n  img {\n    display: block;\n    max-width: 100%;\n    margin: 0 auto;\n  }\n  ","\n"]);return It=function(){return e},e}function Lt(){var e=Object(w.a)(["\n  font-weight: 100;\n  line-height: 1.8rem;\n\n  &.subheadline {\n    font-size: 1.1rem;\n    &:after {\n      display: block;\n      content: '';\n      height: 1px;\n      width: 50%;\n      margin: 20px 0 30px;\n      background-color: #666666;\n    }\n  }\n"]);return Lt=function(){return e},e}function Rt(){var e=Object(w.a)(["font-size: 2.8rem;"]);return Rt=function(){return e},e}function Pt(){var e=Object(w.a)(["\n  color: #5567f9;\n  text-transform: uppercase;\n  margin: 0;\n  ","\n"]);return Pt=function(){return e},e}function Dt(){var e=Object(w.a)(["\n  color: #9c79d5;\n  margin: 0;\n"]);return Dt=function(){return e},e}function Ft(){var e=Object(w.a)(["margin: 20px auto;"]);return Ft=function(){return e},e}function At(){var e=Object(w.a)(["grid-template-columns: repeat(2, 1fr);"]);return At=function(){return e},e}function Tt(){var e=Object(w.a)(["\n  display: grid;\n  grid-template-columns: repeat(1, minmax(200px, 1fr));\n  grid-gap: 40px;\n  max-width: 1024px;\n  margin: 20px;\n\n  ","\n  ","\n"]);return Tt=function(){return e},e}var Mt=E.default.section(Tt(),P.tablet(At()),P.desktop(Ft())),zt=E.default.h1(Dt()),Ut=E.default.h2(Pt(),P.tablet(Rt())),_t=E.default.p(Lt()),Bt=E.default.div(It(),P.tablet(Ct())),Wt=E.default.div(St(),P.tablet(Nt())),Vt=function(e){var t=e.info;return l.a.createElement(Mt,null,l.a.createElement(Bt,null,l.a.createElement("img",{src:"img/error-ufo.svg",alt:"Error"})),l.a.createElement(Wt,null,l.a.createElement(zt,{"data-testid":"error-title"},"Error:"),l.a.createElement(Ut,{"data-testid":"error-info"},"Something Went Wrong"),l.a.createElement(_t,{className:"subheadline"},"You may refresh the page, or try again at a later time."),l.a.createElement(_t,null,t.componentStack)))},qt=n(82),Gt=l.a.memo(function(e){var t=e.toolbar,n=e.open,r=e.customClass;return l.a.createElement("nav",{className:"nav nav__toolbar"},l.a.createElement("ul",null,t&&t.map(function(e,t){var a=e.component,i=e.props;return l.a.createElement("li",{key:t,"data-testid":"item"},l.a.createElement(a,Object.assign({},i,{open:n,customClass:r})))})))},function(e,t){var n=e&&e.toolbar.length>1&&e.toolbar[1].component().props.inbox,r=t&&t.toolbar.length>1&&t.toolbar[1].component().props.inbox;return(!n||n.length===r||!r.length)&&e.open===t.open}),Jt=n(232),Xt=function(e){var t=e.navigation;return l.a.createElement("nav",{role:"navigation",className:"nav nav__primary"},l.a.createElement("ul",null,t&&t.map(function(e){return l.a.createElement("li",{key:e.id,"data-testid":"item"},l.a.createElement(Jt.a,{to:e.to,activeClassName:"active"},l.a.createElement("span",{className:"icon"},l.a.createElement("img",{src:e.icon,alt:e.id,className:"nav-icon",width:"24px",height:"20px",style:{width:"24px"}})),l.a.createElement("span",{className:"label"},e.label)))})))},Kt=function(e){var t=e.toggleMobileMenu;return l.a.createElement("div",{className:"mobile-navigation__toggle"},l.a.createElement("button",{onClick:t,type:"button"},l.a.createElement("span",{className:"icon"},l.a.createElement("img",{src:"img/bars-nav.svg",alt:"Icon Menu"}))))};function Yt(){var e=Object(w.a)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 10px;\n  margin: 15.5px 0;\n\n  div:first-child {\n    grid-column: 1 / 3;\n  }\n\n  button {\n    margin: 0;\n  }\n\n  .close-panel__toggle {\n    text-align: right;\n    padding-right: 20px;\n  }\n"]);return Yt=function(){return e},e}var Ht=E.default.div(Yt()),$t=Object(p.d)()(function(e){var t=e.children,n=e.toggleMobileMenu,r=e.isOpenMobile,a=e.t,i=e.i18n,o=r?"active slideLeft":"hidden";return l.a.createElement("section",{className:"mobile-navigation-panel ".concat(o)},l.a.createElement("div",{className:"mobile-navigation-panel__wrap"},l.a.createElement(Ht,null,l.a.createElement(it,{t:a,i18n:i}),l.a.createElement("div",{className:"close-panel__toggle"},l.a.createElement("button",{type:"button",onClick:n},l.a.createElement(Ne.a,{className:"icon",icon:"times"})))),t))}),Zt=function(e){var t=e.navigation,n=e.toolbar,r=e.sticky,a=e.t,i=Object(c.useState)(!1),o=Object(ot.a)(i,2),u=o[0],s=o[1],d=Object(c.useState)([]),p=Object(ot.a)(d,2),f=p[0],m=p[1],g=l.a.createRef(),b=function(){if(g){var e=g.clientHeight,t=document.getElementsByClassName("contentApp");t.length>0&&(t[0].style["padding-top"]="".concat(e,"px"))}};Object(c.useEffect)(function(){r&&(b(),window.addEventListener("resize",function(){b(),window.innerWidth>=1024&&u&&s(!1)})),function(){var e=n?n.filter(function(e){return"language"!==e.id}):[];m(e)}()},[e,u]);var h=function(){s(!u)};return l.a.createElement("header",{role:"navigation",className:"header header__desktop fixed",ref:g},l.a.createElement("section",{className:"header-wrap"},l.a.createElement("div",{className:"logo-block"},l.a.createElement(qt.a,{to:"/welcome"},l.a.createElement("img",{src:"img/logo/logo_navBar.png",alt:"navLogo",width:"42"}))),u?l.a.createElement($t,{navigation:t,toolbar:n,isOpenMobile:u,toggleMobileMenu:h,t:a},l.a.createElement(Xt,{navigation:t}),l.a.createElement(Gt,{toolbar:f,open:!0,customClass:"profile-list"})):l.a.createElement(c.Fragment,null,t&&l.a.createElement(Xt,{navigation:t}),n&&l.a.createElement(Gt,{toolbar:n})),l.a.createElement(Kt,{toggleMobileMenu:h})))};Zt.defaultProps={sticky:!0};var Qt=Zt,en=[{id:"welcome",icon:"img/icon/home.svg",label:"navBar.welcome",to:"/welcome"},{id:"listRoutes",icon:"img/icon/location.svg",label:"navBar.routes",to:"/routes/listRoutes"},{id:"addFile",icon:"img/icon/plus.svg",label:"navBar.addFile",to:"/routes/addFile"},{id:"friends",icon:"img/icon/amigo.svg",label:"navBar.friends",to:"/friends/listFriends"},{id:"addRoute",icon:"img/icon/addRoute.svg",label:"navBar.addRoute",to:"/routes/addRoute"},{id:"friendRoute",icon:"img/icon/amigolocalizado.svg",label:"navBar.friendRoute",to:"/friendRoute"}],tn=[{label:"navBar.profile",onClick:"profileRedirect",icon:"cog"},{label:"navBar.logOut",onClick:"logOut",icon:"lock"}];function nn(){var e=Object(w.a)(["\n  display: inline-block;\n  margin-left: 10px;\n"]);return nn=function(){return e},e}function rn(){var e=Object(w.a)(["\n  background: #cccccc;\n  display: block;\n"]);return rn=function(){return e},e}function an(){var e=Object(w.a)(["\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n"]);return an=function(){return e},e}function on(){var e=Object(w.a)(["\n  width: 42px;\n  height: 42px;\n  border-radius: 50%;\n  background-size: cover;\n  overflow: hidden;\n  visibility: ",";\n  display: ",";\n"]);return on=function(){return e},e}var cn,ln=E.default.div(on(),function(e){return e.show?"visible":"hidden"},function(e){return e.show?"block":"none"}),un=E.default.img(an()),sn=Object(E.default)(ln)(rn()),dn=(E.default.span(nn()),function(e){function t(e){var n;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(Oe.a)(t).call(this,e))).state={imageLoaded:!1},n.profileRedirect=function(){return n.props.history.push("/profile")},n.onImageLoaded=Object(A.a)(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.setState({imageLoaded:!0}));case 1:case"end":return e.stop()}},e)})),n.logOut=Object(A.a)(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.logout();case 3:localStorage.removeItem("solid-auth-client"),window.location="#/login",e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),D(e.t0.message,"Error");case 10:case"end":return e.stop()}},e,null,[[0,7]])})),n.getProfileData=Object(A.a)(I.a.mark(function e(){var t,r,a,i;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=U.a.user,e.next=4,t.vcard_hasPhoto;case 4:r=e.sent,a=n.state.image,i=r?r.value:a,n.setState({image:i}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),D(e.t0.message,"Error");case 13:case"end":return e.stop()}},e,null,[[0,10]])})),n.state={image:"img/icon/empty-profile.svg"},n}return Object(je.a)(t,e),Object(ke.a)(t,[{key:"componentDidMount",value:function(){this.getProfileData()}},{key:"componentDidUpdate",value:function(e){var t=this.props.webId;if(t&&t!==e.webId&&this.getProfileData(),this.context){var n=this.context.timestamp;n!==cn&&(this.getProfileData(),cn=n)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.t,r=t.open,a=t.customClass,i=this.state,o=i.imageLoaded,c=i.image,u=tn.map(function(t){return Object($.a)({},t,{label:n(t.label),onClick:e[t.onClick]})});return c?l.a.createElement(_e,{actions:u,className:"nav-bar--profile ".concat(a),open:r,hover:!0},l.a.createElement(ln,{show:o},l.a.createElement(un,{show:o,src:c,alt:"profile",onLoad:this.onImageLoaded})),!o&&l.a.createElement(sn,{show:!0})):l.a.createElement("div",null)}}]),t}(c.Component));dn.contextType=ee.UpdateContext;var pn=dn,fn=l.a.memo(function(e){var t=e.webId;return t?l.a.createElement(ee.LiveUpdate,{subscribe:t.split("#")[0]},l.a.createElement(pn,e)):null}),mn=l.a.memo(function(e){var t=Object(c.useState)([]),n=Object(ot.a)(t,2),i=n[0],o=n[1],u=Object(p.c)(),s=u.t,d=u.i18n,f=en.map(function(e){return Object($.a)({},e,{label:s(e.label)})}),m=e.webId,g=Object(c.useCallback)(Object(A.a)(I.a.mark(function e(){var t,n,i,c;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],e.next=4,a.getAppStorage(m);case 4:return n=e.sent,e.next=7,r.discoverInbox("".concat(n,"settings.ttl"));case 7:if((i=e.sent)&&(t=[].concat(Object(Z.a)(t),[{path:i,inboxName:s("navBar.notifications.tictactoe"),shape:"default"}])),0!==t.length){e.next=14;break}return e.next=12,r.discoverInbox(m);case 12:(c=e.sent)&&(t=[].concat(Object(Z.a)(t),[{path:c,inboxName:s("navBar.notifications.global"),shape:"default"}]));case 14:0===t.length&&D(s("noInboxUser.message"),"Error",{label:s("noInboxUser.link.label"),href:s("noInboxUser.link.href")}),o(t),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),D(e.t0.message,s("navBar.notifications.fetchingError"));case 21:case"end":return e.stop()}},e,null,[[0,18]])})),[m,i]);Object(c.useEffect)(function(){m&&g()},[m]);var b=e.history;return l.a.createElement(Qt,{navigation:f,sticky:!0,toolbar:[{component:function(){return l.a.createElement(it,{t:s,i18n:d})},id:"language"},{component:function(){return l.a.createElement(xr,{webId:m,inbox:i})},id:"notifications"},{component:function(e){return l.a.createElement(fn,Object($.a)({t:s,i18n:d,webId:m,history:b},e))},id:"profile"}]})}),gn=l.a.memo(function(e){var t=e.location,n=e.webId,r=e.history;return l.a.createElement(mn,{location:t,webId:n,history:r})});function bn(){var e=Object(w.a)(["\n  color: white;\n"]);return bn=function(){return e},e}function hn(){var e=Object(w.a)(["\n  background: rgba(23, 20, 34, 0.73);\n  border-radius: 360px;\n  position: absolute;\n  padding: 20px;\n  top: 0;\n  left: 0;\n  border: 3px solid white;\n  color: white;\n  right: 0;\n  bottom: 0;\n  text-align: center;\n"]);return hn=function(){return e},e}function vn(){var e=Object(w.a)(["\n  border: none;\n  background: rgba(23, 20, 34, 0.73);\n  border-radius: 360px;\n  display: block;\n  transition: all 0.3s ease-in;\n  opacity: 0;\n  position: absolute;\n  width: 100%;\n  padding: 20px;\n  bottom: 0;\n  top: 0;\n  left: 0;\n  &:hover {\n    border: 3px solid white;\n    color: white;\n  }\n"]);return vn=function(){return e},e}function xn(){var e=Object(w.a)(["\n  width: 128px;\n  position: relative;\n  padding-bottom: 100%;\n  background-size: cover;\n  overflow: hidden;\n  border-radius: 360px;\n  img {\n    border-radius: 360px;\n    border: 3px solid white;\n    box-sizing: border-box;\n    width: 100%;\n    height: 128px;\n  }\n  &:hover {\n    button {\n      opacity: 1;\n    }\n  }\n  .upload-icon {\n    display: block;\n    margin: 0 auto 10px auto;\n    font-size: 1.6rem;\n    opacity: 0.7;\n  }\n"]);return xn=function(){return e},e}var wn=E.default.div(xn()),En=E.default.button(vn()),kn=E.default.div(hn()),yn=E.default.p(bn()),On=function(e){var t=e.uploadedFiles,n=e.photo,r=e.overrideEventDefaults,a=e.onDragLeave,i=e.onDragEnter,o=e.onDrop,c=e.onClickFile,u=e.text,s=e.inProgress,d=e.uploadingText,p=t&&t.length>0?t[t.length-1].uri:n;return l.a.createElement(wn,{onDragStart:r,onDragOver:r,onDragEnd:r,onDrag:r,onDragLeave:a,onDragEnter:i,onDrop:o,style:p&&""!==p&&{backgroundImage:"url(".concat(p,")")}},l.a.createElement(En,{onClick:c,className:"button-upload"},l.a.createElement(Ne.a,{icon:"upload",className:"upload-icon"}),u),s&&l.a.createElement(kn,{className:"image-profile-loader"},l.a.createElement(Ne.a,{icon:"spinner",spin:!0,size:"2x"}),l.a.createElement(yn,null,d)))};On.defaultProps={text:"Upload New Photo",uploadingText:"Uploading"};var jn=On,Nn=Object(p.d)()(function(e){var t=e.t,n=Object(wt.a)({prefix:"fab",iconName:"github"});return l.a.createElement("footer",{className:"solid-footer footer"},l.a.createElement("section",{className:"solid-footer__content"},l.a.createElement("div",{className:"solid-footer__content--copyright"},l.a.createElement("ul",null,l.a.createElement("li",null,"\xa9 ","Universidad de Oviedo"),l.a.createElement("li",null,t("footer.version"),""," ",l.a.createElement("span",{className:"build-value"},"0.1.0")))),l.a.createElement("div",{className:"solid-footer__content--links"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("a",{href:"https://github.com/Arquisoft/viade_es5c",target:"_blank",rel:"noopener noreferrer"},l.a.createElement(Ne.a,{className:"link-icon",icon:n}),"viade_es5c"))))))});function Sn(){var e=Object(w.a)(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border: none;\n  background: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  border-radius: 0;\n\n  &:active,\n  &:focus,\n  &:hover,\n  &.active {\n    background: linear-gradient(\n      to right,\n      rgba(124, 77, 255, 0.25) 0%,\n      rgba(83, 97, 253, 0.25) 51.88%,\n      rgba(55, 203, 239, 0.25) 100%\n    );\n    outline: none;\n  }\n\n  .icon {\n    width: 18px;\n    height: 18px;\n    position: relative;\n  }\n"]);return Sn=function(){return e},e}var Cn=E.default.button(Sn()),In=function(e){var t=e.unread,n=e.onClick,r=e.active;return l.a.createElement(Cn,{className:"bell-icon ".concat(r?"active":""),onClick:n,type:"button"},l.a.createElement("div",{className:"icon"},t>0&&l.a.createElement(Ve,{badge:t}),l.a.createElement("img",{src:"img/icon/notification.svg",alt:"notifications"})))},Ln=n(109),Rn=n.n(Ln);function Pn(){var e=Object(w.a)(["\n  max-width: 30px;\n  border-radius: 60px;\n  height: 30px;\n"]);return Pn=function(){return e},e}function Dn(){var e=Object(w.a)(["\n  position: absolute;\n  top: 3px;\n  right: 0;\n  border: 0;\n  padding: 0;\n  margin: 5px 7px;\n  color: #ffa600;\n"]);return Dn=function(){return e},e}function Fn(){var e=Object(w.a)(["\n  position: absolute;\n  top: 3px;\n  right: 0;\n  border: 0;\n  padding: 0;\n  margin: 5px 7px;\n  color: #ffa600;\n"]);return Fn=function(){return e},e}function An(){var e=Object(w.a)(["\n  margin: 0;\n  padding: 0;\n  background: none;\n  outline: none;\n  border: none;\n  position: absolute;\n  right: 6px;\n  top: 54%;\n  transform: translateY(-50%);\n  &:active {\n    outline: none;\n  }\n"]);return An=function(){return e},e}function Tn(){var e=Object(w.a)(["\n  display: flex;\n  justify-content: flex-end;\n  padding-top: 4px;\n  & > .moment {\n    color: #89969f;\n    font-family: Raleway;\n    font-size: 11px;\n    font-weight: bold;\n    line-height: 14px;\n  }\n"]);return Tn=function(){return e},e}function Mn(){var e=Object(w.a)(["\n  color: #374c5d;\n  font-family: Raleway;\n  font-size: 13px;\n  line-height: 14px;\n  & strong {\n    font-weight: 700;\n  }\n"]);return Mn=function(){return e},e}function zn(){var e=Object(w.a)(["\n  padding: 0 14px;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]);return zn=function(){return e},e}function Un(){var e=Object(w.a)(["\n  border-bottom: 2px solid rgb(227, 231, 237);\n  cursor: pointer;\n  position: relative;\n  display: flex;\n  padding: 12px;\n  align-items: center;\n  background: ",";\n  position: relative;\n  min-height: 60px;\n\n  & > img {\n    width: 40px;\n    height: 40px;\n  }\n\n  .delete {\n    display: none;\n  }\n  &:hover {\n    .delete {\n      display: block;\n    }\n  }\n"]);return Un=function(){return e},e}var _n=E.default.li(Un(),function(e){return e.read?"#FFF":"rgb(245, 249, 254)"}),Bn=E.default.div(zn()),Wn=E.default.div(Mn()),Vn=E.default.div(Tn()),qn=E.default.button(An()),Gn=(E.default.button(Fn()),E.default.button(Dn())),Jn=E.default.img(Pn()),Xn=function(e){var t=e.notification,n=e.markAsRead,r=e.children,a=e.deleteNotification,i=e.accept,o=t.read,u=!!o&&JSON.parse(o),s=t.actor,d=Object(c.useCallback)(Object(A.a)(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target){e.next=4;break}return e.next=3,n(t.path,t.id);case 3:window.location=t.target;case 4:case"end":return e.stop()}},e)})),[t]),p=t&&t.actor&&t.actor.image?t.actor.image:"img/icon/empty-profile.svg";return l.a.createElement(_n,{read:u},l.a.createElement("a",{href:t.actor&&t.actor.webId},l.a.createElement(Jn,{src:p,alt:"Creator",onError:function(e){e.target.onerror=null,e.target.src="img/icon/empty-profile.svg"}})),l.a.createElement(Bn,null,l.a.createElement(Wn,{onClick:d},l.a.createElement("strong",null,s&&s.name)," ",t.summary),l.a.createElement(Vn,null,l.a.createElement("span",{className:"moment"},Rn()(t.published).fromNow()),r)),l.a.createElement(qn,{type:"button",className:"delete",onClick:function(){return i(t.object,t.actor,t.path)}},l.a.createElement(Ne.a,{icon:"check-circle"})),l.a.createElement(Gn,{type:"button",className:"delete",onClick:function(){return a(t.path)}},l.a.createElement(Ne.a,{icon:"times-circle"})))};function Kn(){var e=Object(w.a)(["\n  display: inherit;\n  margin: 20px;\n  text-align: center;\n"]);return Kn=function(){return e},e}function Yn(){var e=Object(w.a)(["\n  overflow-y: auto;\n  max-height: 350px;\n  flex: 1 1 auto;\n  list-style: none;\n  display: flex;\n  flex-direction: column;\n  padding: 0;\n  margin: 0;\n  height: 100%;\n"]);return Yn=function(){return e},e}var Hn=E.default.ul(Yn()),$n=E.default.span(Kn()),Zn=function(e){var t=e.notifications,n=e.markAsRead,r=e.deleteNotification,a=e.accept;return l.a.createElement(c.Fragment,null,t&&t.length>0?l.a.createElement(Hn,null,t.map(function(e){return l.a.createElement(Xn,{key:e.id,notification:e,markAsRead:n,deleteNotification:r,accept:a})})):l.a.createElement($n,{className:"empty-list"},"No notifications to show"))};function Qn(){var e=Object(w.a)(["\n  display: inline-block;\n  margin: 0 3px;\n  button {\n    padding: 10px;\n    border-bottom: none;\n    border-radius: 0;\n\n    &.active {\n      border-color: #5361fd;\n      background: #5361fd;\n\n      &:hover {\n        color: white;\n      }\n    }\n\n    &:hover {\n      border-color: #5361fd;\n      color: #5361fd;\n    }\n  }\n"]);return Qn=function(){return e},e}function er(){var e=Object(w.a)(["\n  width: 100%;\n  margin: 0 auto;\n  padding: 0 auto;\n  border-bottom: 1px solid #cfdce6;\n"]);return er=function(){return e},e}var tr=E.default.ul(er()),nr=E.default.li(Qn()),rr=function(e){var t=e.list,n=e.click,r=e.activeName,a=Object(c.useState)(null),i=Object(ot.a)(a,2),o=i[0],u=i[1],s=Object(c.useCallback)(function(){var e=Object(A.a)(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u(r=o===t?"":t),e.next=4,n(r);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[t,o]);return Object(c.useEffect)(function(){u(r)},[]),l.a.createElement(tr,null,t&&t.map(function(e){return l.a.createElement(nr,{key:e.path},l.a.createElement("button",{onClick:function(){return s(e.inboxName)},type:"button",className:o===e.inboxName?"active":""},e.inboxName))}))};function ar(){var e=Object(w.a)(["\n  padding: 16px;\n  margin: 0;\n  text-transform: uppercase;\n  color: #5361fd;\n  font-family: Raleway;\n  font-size: 14px;\n  letter-spacing: 1.2px;\n  line-height: 14px;\n  flex: 0 0 50px;\n  box-sizing: border-box;\n"]);return ar=function(){return e},e}function ir(){var e=Object(w.a)(["\n    right: 0;\n    min-width: 351px;\n  "]);return ir=function(){return e},e}function or(){var e=Object(w.a)(["\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  min-width: 340px;\n  min-height: 320px;\n  background: #ffffff;\n  box-sizing: border-box;\n  box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.3);\n  top: calc(100% + 2px);\n  right: -210px;\n  z-index: 99999;\n  border: solid 1px #cfdce6;\n\n  ","\n"]);return or=function(){return e},e}var cr=E.default.div(or(),P.tablet(ir())),lr=E.default.h2(ar()),ur=function(e){var t=e.notifications,n=e.markAsRead,r=e.deleteNotification,a=e.accept,i=e.filterNotification,o=e.tabs,c=e.isLoading;return l.a.createElement(cr,null,l.a.createElement(lr,null,"Notifications"),c?l.a.createElement(Qe,{absolute:!0}):l.a.createElement(l.a.Fragment,null,l.a.createElement(rr,{list:o,click:i}),l.a.createElement(Zn,{notifications:t,markAsRead:n,deleteNotification:r,accept:a})))},sr=n(233);function dr(){var e=Object(w.a)(["\n    position: relative;\n    width: 60px;\n    height: 100%;\n    left: inherit;\n    top: inherit;\n  "]);return dr=function(){return e},e}function pr(){var e=Object(w.a)(["\n  position: fixed;\n  z-index: 3;\n  top: 17px;\n  left: 47px;\n\n  & .notifications-enter {\n    opacity: 0;\n    transform: scale(0.8);\n  }\n  & .notifications-enter-active {\n    opacity: 1;\n    transform: translateX(0);\n    transition: opacity 300ms, transform 300ms;\n  }\n  & .notifications-exit {\n    opacity: 1;\n  }\n  & .notifications-exit-active {\n    opacity: 0;\n    transform: scale(0.8);\n    transition: opacity 300ms, transform 300ms;\n  }\n  ","\n"]);return pr=function(){return e},e}var fr,mr=E.default.div(pr(),P.desktopSm(dr())),gr=function(e,t){Object(c.useEffect)(function(){var n=function(n){e.current&&!e.current.contains(n.target)&&t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),function(){document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[e,t])},br=n(25),hr=n.n(br),vr=function(e){var t=e.webId,n=e.inbox,i=Object(c.useState)(!1),o=Object(ot.a)(i,2),u=o[0],s=o[1],d=Object(c.useState)(!1),p=Object(ot.a)(d,2),f=p[0],m=p[1],g=Object(c.useRef)(),b=function(){var e=Object(A.a)(I.a.mark(function e(t){var n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new hr.a(M.a),e.next=3,n.itemExists(t);case 3:if(!e.sent){e.next=7;break}return e.next=6,n.readFile(t);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),h=Object(ee.useNotification)(t),v=h.notification,x=h.markAsReadNotification,w=h.deleteNotification,E=h.fetchNotification,k=h.filterNotification,y=function(){var e=Object(A.a)(I.a.mark(function e(n,i,o){var c,l,u,s,d,p;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getAppStorage(t);case 2:return c=e.sent,l=new hr.a(M.a),u=i.webId.split("//")[1].split("/")[0],s="".concat(c,"shared/").concat(u,".jsonld"),e.next=8,r.resourceExists(s);case 8:if(!e.sent){e.next=27;break}return d={},e.next=12,b(s).then(function(e){d=JSON.parse(e)});case 12:if(!(d.routes.filter(function(e){return e["@id"]===n})>0)){e.next=16;break}e.next=25;break;case 16:return d.routes.push({"@id":n}),e.prev=17,e.next=20,l.createFile(s,JSON.stringify(d),"text/plain",{});case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(17),console.log(e.t0);case 25:e.next=36;break;case 27:return p={"@context":{"@version":1.1,routes:{"@container":"@list","@id":"viade:routes"},viade:"http://arquisoft.github.io/viadeSpec/"},routes:[{"@id":n}]},e.prev=28,e.next=31,l.createFile(s,JSON.stringify(p),"text/plain",{});case 31:e.next=36;break;case 33:e.prev=33,e.t1=e.catch(28),console.log(e.t1);case 36:w(o);case 37:case"end":return e.stop()}},e,null,[[17,22],[28,33]])}));return function(t,n,r){return e.apply(this,arguments)}}(),O=Object(ee.useLiveUpdate)().timestamp,j=v.notifications,N=v.unread,S=v.notify,C=O&&O.toString();gr(g,function(){return s(!1)});var L=function(){var e=Object(A.a)(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,E(n);case 4:m(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),m(!1);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)(function(){t&&S&&L()},[n,S]),Object(c.useEffect)(function(){C&&fr!==C&&(L(),fr=C)},[O]),l.a.createElement(mr,{ref:g},l.a.createElement(In,{unread:N||0,onClick:function(){return s(!u)},active:u}),l.a.createElement(sr.a,{in:u,timeout:300,classNames:"notifications",unmountOnExit:!0,mountOnEnter:!0},l.a.createElement(ur,{notifications:j,markAsRead:x,deleteNotification:w,accept:y,tabs:n,filterNotification:k,isLoading:f})))},xr=l.a.memo(function(e){var t=e.webId,n=e.inbox,r=n.map(function(e){return e.path});return r?l.a.createElement(ee.LiveUpdate,{subscribe:r},l.a.createElement(vr,{webId:t,inbox:n})):null});function wr(){var e=Object(w.a)(["\n  margin-top: 20px;\n"]);return wr=function(){return e},e}var Er=E.default.span(wr()),kr=Object(c.memo)(function(e){var t=e.inProgress,n=e.result,r=e.setResult,a=e.setSavingProcess,i=Object(c.useState)(null),o=Object(ot.a)(i,2),u=o[0],s=o[1];return Object(c.useEffect)(function(){return function(){clearTimeout(u)}},[]),Object(c.useEffect)(function(){n&&(u&&clearTimeout(u),"success"===n.toLowerCase()&&s(setTimeout(function(){r(null),a(!1)},2e3)))},[n]),l.a.createElement(Er,null,t&&l.a.createElement("div",null,l.a.createElement(Ne.a,{icon:"spinner",spin:!0})),n&&!t&&l.a.createElement("div",null,"success"===n.toLowerCase()&&l.a.createElement(Ne.a,{icon:"check-circle"}),"error"===n.toLowerCase()&&l.a.createElement(Ne.a,{icon:"exclamation-triangle"})))}),yr=n(68),Or=n.n(yr),jr=n(37),Nr=function(){function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";Object(Ee.a)(this,e),this.latitud=t,this.longitud=n,this.order=r,this.elevacion=a}return Object(ke.a)(e,[{key:"getPoint",value:function(){return{lat:this.latitud,long:this.longitud}}},{key:"getLat",value:function(){return this.latitud}},{key:"getLng",value:function(){return this.longitud}}]),e}(),Sr={display:"flex",padding:"30px 0",position:"relative"},Cr={display:"flex",flexDirection:"row",height:"auto",width:"100vw"},Ir=function(e){function t(){var e,n;Object(Ee.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(ye.a)(this,(e=Object(Oe.a)(t)).call.apply(e,[this].concat(a)))).sendData=function(){n.props.parentCallback(n.state.points)},n.state={points:[],markers:[],center:{lat:43.354988,lng:-5.851161}},n._onClick=function(e,t,r){var a=n.state.markers;a=Or()(a,{$push:[{position:{lat:r.latLng.lat(),lng:r.latLng.lng()},defaultAnimation:2,key:Date.now()}]}),n.setState({markers:a});var i=n.state.points;i=Or()(i,{$push:[new Nr(r.latLng.lat()+0,r.latLng.lng()+0,i.length)]}),console.log(i),n.setState({points:i}),n.sendData()},n}return Object(je.a)(t,e),Object(ke.a)(t,[{key:"getLocation",value:function(){var e=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){e.setState({center:{lat:t.coords.latitude,lng:t.coords.longitude}})})}},{key:"addPolyline",value:function(){for(var e=[],t=0;t<this.state.markers.length;t++)e.push({lat:this.state.markers[t].position.lat,lng:this.state.markers[t].position.lng});return e}},{key:"handleMarkerRightclick",value:function(e,t){var n=this.state.markers;n=Or()(n,{$splice:[[e,1]]}),this.setState({markers:n})}},{key:"render",value:function(){return this.getLocation(),l.a.createElement(jr.Map,{google:this.props.google,zoom:14,onClick:this._onClick,center:this.state.center,style:Cr,containerStyle:Sr},this.state.markers.map(function(e,t){return l.a.createElement(jr.Marker,{position:{lat:e.position.lat,lng:e.position.lng}})}),l.a.createElement(jr.Polyline,{path:this.addPolyline(),strokeColor:"#ff8000",strokeOpacity:.8,strokeWeight:4}))}}]),t}(c.Component),Lr=Object(jr.GoogleApiWrapper)({apiKey:"AIzaSyCOAPsIpth-pvZtOeXXB_9B7iVGi9RFAAE"})(Ir);function Rr(){var e=Object(w.a)(["\n    padding-bottom: 60px;\n    height: 100%;\n    padding-top: 60px;\n  "]);return Rr=function(){return e},e}function Pr(){var e=Object(w.a)(["\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n"]);return Pr=function(){return e},e}function Dr(){var e=Object(w.a)(["\n  height: 100%;\n  position: relative;\n"]);return Dr=function(){return e},e}var Fr=E.default.div(Dr()),Ar=E.default.div(Pr()),Tr=Object(p.d)()(Object(ee.withWebId)(function(e){var t=e.component,n=e.webId,r=Object(rt.a)(e,["component","webId"]),a=Object(p.c)().t,i=Object(E.default)(t)(Rr());return n?l.a.createElement(Ot.a,{to:"/welcome"}):l.a.createElement(yt.a,Object.assign({},r,{component:function(t){return l.a.createElement(Fr,null,l.a.createElement(Qt,Object.assign({},t,{toolbar:[{component:function(){return l.a.createElement(it,Object($.a)({t:a},e))},id:"language"}]})),l.a.createElement(i,t),l.a.createElement(Ar,null,l.a.createElement(Nn,null)))}}))})),Mr=n(236);function zr(){var e=Object(w.a)(["\n  padding-top: 60px;\n  flex: 1 0 auto;\n  display: flex;\n  overflow-y: auto;\n  overflow-x: hidden;\n"]);return zr=function(){return e},e}function Ur(){var e=Object(w.a)(["\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  overflow-x: hidden;\n  min-height: 100vh;\n"]);return Ur=function(){return e},e}var _r=E.default.div(Ur()),Br=E.default.div(zr()),Wr=Object(ee.withAuthorization)(function(e){var t=e.routes,n=e.webId,o=e.location,u=(e.history,Object(rt.a)(e,["routes","webId","location","history"])),s=Object(p.c)().t,d={message:s("appPermission.message"),title:s("notifications.error"),label:s("appPermission.link.label"),href:s("appPermission.link.href")},f=function(){var e=Object(A.a)(I.a.mark(function e(){var t;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.getAppStorage(n);case 3:return t=e.sent,e.next=6,a.createInitialFiles(n);case 6:if(e.sent){e.next=10;break}console.log("No se puede hacer nada"),e.next=13;break;case 10:if(!t){e.next=13;break}return e.next=13,m(t);case 13:e.next=20;break;case 15:if(e.prev=15,e.t0=e.catch(0),"Inbox Error"!==e.t0.name){e.next=19;break}return e.abrupt("return",D(e.t0.message,"Error",{label:s("errorCreateInbox.link.label"),href:s("errorCreateInbox.link.href")}));case 19:D(e.t0.message,"Error");case 20:case"end":return e.stop()}},e,null,[[0,15]])}));return function(){return e.apply(this,arguments)}}();function m(e){return g.apply(this,arguments)}function g(){return(g=Object(A.a)(I.a.mark(function e(t){var o,c,l,u,s,d,p,f,m,g,b;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=new hr.a(M.a),c="".concat(t,"settings.ttl"),l="".concat(t,"inbox/"),u=!1,e.next=6,r.getLinkedInbox(c);case 6:return(s=e.sent)&&(l=s,u=!0),e.next=10,i.checkSpecificAppPermission(n,ee.AccessControlList.MODES.WRITE);case 10:if(d=e.sent,p="".concat(t,"routes/"),f="".concat(t,"comments/"),m="".concat(t,"resources/"),g="".concat(t,"shared/"),!d){e.next=64;break}return e.next=18,r.resourceExists(p);case 18:if(e.sent){e.next=21;break}return e.next=21,o.createFolder(p,{createPath:!0});case 21:return e.next=23,r.resourceExists(f);case 23:if(e.sent){e.next=26;break}return e.next=26,o.createFolder(f,{createPath:!0});case 26:return e.next=28,r.resourceExists(m);case 28:if(e.sent){e.next=31;break}return e.next=31,o.createFolder(m,{createPath:!0});case 31:return e.next=33,r.resourceExists(g);case 33:if(e.sent){e.next=36;break}return e.next=36,o.createFolder(g,{createPath:!0});case 36:return e.next=38,r.resourceExists(l);case 38:if(e.sent){e.next=42;break}return D(v.t("navBar.inboxCreated"),"Error",{}),e.next=42,o.createFolder(l,{createPath:!0});case 42:return e.next=44,i.checkSpecificAppPermission(n,ee.AccessControlList.MODES.CONTROL);case 44:if(!e.sent){e.next=58;break}return e.next=48,i.checkOrSetNoPermissions(p,n);case 48:return e.next=50,i.checkOrSetNoPermissions(f,n);case 50:return e.next=52,i.checkOrSetNoPermissions(m,n);case 52:return e.next=54,i.checkOrSetNoPermissions(g,n);case 54:return e.next=56,i.checkOrSetNoPermissions(t,n);case 56:return e.next=58,i.checkOrSetInboxAppendPermissions(l,n);case 58:if(u){e.next=64;break}return e.next=61,a.getAppStorage(n);case 61:return b=e.sent,e.next=64,a.inboxLinkSetting(b,l);case 64:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(c.useEffect)(function(){n&&i.checkPermissions(n,d).then(function(e){!0===e&&f()})},[n]),l.a.createElement(l.a.Fragment,null,l.a.createElement(_r,null,l.a.createElement(yt.a,Object.assign({},u,{component:function(e){var r=e.history;return l.a.createElement(Br,{className:"contentApp"},l.a.createElement(gn,{location:o,webId:n,history:r}),l.a.createElement(Mr.a,null,t.map(function(e){var t=e.component;return l.a.createElement(yt.a,{key:e.id,path:e.path,render:function(e){return l.a.createElement(t,Object.assign({},e,{webId:n}))},webId:n,exact:!0})})))}})),l.a.createElement(Nn,null)))});function Vr(){var e=Object(w.a)(["\n    padding-bottom: 60px;\n    height: 100%;\n    padding-top: 60px;\n  "]);return Vr=function(){return e},e}function qr(){var e=Object(w.a)(["\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n"]);return qr=function(){return e},e}function Gr(){var e=Object(w.a)(["\n  min-height: 100%;\n  position: relative;\n"]);return Gr=function(){return e},e}var Jr=E.default.div(Gr()),Xr=E.default.div(qr()),Kr=function(e){var t=Object(ee.useWebId)(),n=e.component,r=Object(rt.a)(e,["component"]),a=Object(p.c)(),i=a.t,o=a.i18n,c=Object(E.default)(n)(Vr());return l.a.createElement(yt.a,Object.assign({},r,{component:function(e){var n=e.history,r=e.location,a=e.match;return l.a.createElement(Jr,null,t?l.a.createElement(gn,{history:n,location:r,match:a,webId:t}):l.a.createElement(Qt,Object.assign({history:n,location:r,match:a},{toolbar:[{component:function(){return l.a.createElement(it,{t:i,i18n:o})},id:"language"},{component:function(){return l.a.createElement(qt.a,{to:"/login"},"Login")},label:"authComponent",id:"authComponent"}]})),l.a.createElement(c,{history:n,location:r,match:a}),l.a.createElement(Xr,null,l.a.createElement(Nn,null)))}}))},Yr=n(235);function Hr(){var e=Object(w.a)(["\n  color: #656e75;\n  font-family: Raleway;\n  font-size: 16px;\n  font-weight: 500;\n  letter-spacing: 1.2px;\n  line-height: 19px;\n  text-align: center;\n  position: relative;\n  margin: 30px 0;\n  display: inline-block;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  &::before,\n  &::after {\n    width: 32%;\n    content: '';\n    background: #656e75;\n    height: 1px;\n    box-sizing: border-box;\n    top: 50%;\n  }\n\n  span {\n    padding: 0 5px;\n  }\n\n  &::before {\n    right: 0;\n  }\n\n  &::after {\n    left: 0;\n  }\n"]);return Hr=function(){return e},e}function $r(){var e=Object(w.a)(["\n  display: grid;\n  flex-direction: column;\n\n  .provider-login-component {\n    div[role='option'] {\n      text-align: left !important;\n      padding-left: 20px;\n    }\n  }\n"]);return $r=function(){return e},e}function Zr(){var e=Object(w.a)([""]);return Zr=function(){return e},e}function Qr(){var e=Object(w.a)(["\n  h1 {\n    color: #ffffff;\n  }\n  margin-top: 60px;\n"]);return Qr=function(){return e},e}var ea=Object(E.default)(O)(Qr()),ta=Object(E.default)(we)(Zr()),na=E.default.div($r()),ra=E.default.span(Hr()),aa=function(){function e(){Object(Ee.a)(this,e)}return Object(ke.a)(e,null,[{key:"getIdentityProviders",value:function(){return[{id:"inrupt",label:"Inrupt",image:"img/inrupt.svg",value:"https://inrupt.net/auth",registerLink:"https://inrupt.net/register",description:"Lorem ipsum dolor sit amet non ipsom dolor"},{id:"solid-community",label:"Solid Community",image:"img/Solid.png",value:"https://solid.community",registerLink:"https://solid.community/register",description:"Lorem ipsum dolor sit non consectetur"}]}}]),e}(),ia=function(){var e=Object(p.c)().t;return l.a.createElement(ea,{"data-testid":"login-wrapper"},l.a.createElement(S,null,l.a.createElement("h1",{"data-testid":"title"},e("login.title")),l.a.createElement(ta,{className:"login-panel"},l.a.createElement(na,{className:"panel-body"},l.a.createElement(qt.a,{className:"ids-link-filled ids-link-filled--primary",to:"/register"},e("login.register")),l.a.createElement("a",{href:"https://solid.inrupt.com/get-a-solid-pod",rel:"noopener noreferrer",target:"_blank",className:"link"},e("login.solidHelp")),l.a.createElement(ra,{"data-testid":"login-title"},l.a.createElement("span",null,e("login.loginTitle"))),l.a.createElement(ee.ProviderLogin,{selectPlaceholder:e("login.selectPlaceholder"),inputPlaholder:e("login.inputPlaholder"),formButtonText:e("login.formButtonText"),btnTxtWebId:e("login.btnTxtWebId"),btnTxtProvider:e("login.btnTxtProvider"),className:"provider-login-component",callbackUri:"".concat(window.location.origin,"/viade_es5c/#/welcome"),errorsText:{unknown:e("login.errors.unknown"),webIdNotValid:e("login.errors.webIdNotValid"),emptyProvider:e("login.errors.emptyProvider"),emptyWebId:e("login.errors.emptyWebId")},theme:{buttonLogin:"ids-link",inputLogin:"",linkButton:""},providers:aa.getIdentityProviders()})))))};function oa(){var e=Object(w.a)(["\n  height: 32px;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: row-reverse;\n  justify-content: space-between;\n\n  button {\n    height: 32px;\n    width: 150px;\n    border-radius: 4px;\n    font-family: Raleway;\n    font-size: 10px;\n    font-weight: bold;\n    letter-spacing: 0.89px;\n    line-height: 11px;\n    text-align: center;\n    text-transform: uppercase;\n    border: solid 2px #449df5;\n    box-sizing: border-box;\n  }\n\n  .btn-solid {\n    background-color: #449df5;\n    color: #ffffff;\n  }\n\n  .btn-outlined {\n    background-color: #ffffff;\n    color: #449df5;\n    filter: opacity(40%);\n  }\n"]);return oa=function(){return e},e}function ca(){var e=Object(w.a)(["\n  height: 100% !important;\n  animation: fadeIn 0.2s ease-in;\n\n  a {\n    display: block;\n    color: #449df5;\n    font-family: Raleway;\n    font-size: 12px;\n    font-weight: 500;\n    letter-spacing: 0.75px;\n    line-height: 14px;\n    text-align: center;\n    text-decoration: none;\n\n    &:hover {\n      font-weight: 700;\n    }\n  }\n\n  .a-with-spacing {\n    margin: 24px 0;\n  }\n\n  ul {\n    padding: 0;\n    margin: 0;\n  }\n"]);return ca=function(){return e},e}function la(){var e=Object(w.a)(["\n  position: relative;\n\n  h2 {\n    position: relative;\n    padding: 0;\n    color: #5361fd;\n    font-family: Raleway;\n    font-size: 20px;\n    font-weight: bold;\n    letter-spacing: 0.75px;\n    line-height: 24px;\n    text-align: center;\n    margin: 0;\n    animation: fadeIn 0.5s ease-in;\n  }\n\n  .progress-bar {\n    position: absolute;\n    height: 1px;\n    width: 100%;\n    background: #5361fd;\n    top: 30px;\n  }\n"]);return la=function(){return e},e}function ua(){var e=Object(w.a)(["\n  justify-content: space-between;\n"]);return ua=function(){return e},e}function sa(){var e=Object(w.a)(["\n  h1 {\n    color: #ffffff;\n  }\n\n  //Todo: figure out why this is necessary\n  margin-top: 100px;\n"]);return sa=function(){return e},e}var da=E.default.section(sa()),pa=Object(E.default)(we)(ua()),fa=E.default.div(la()),ma=E.default.div(ca()),ga=E.default.div(oa());function ba(){var e=Object(w.a)(["\n  list-style: none;\n  padding: 10px 0;\n  margin: 0;\n\n  & input[type='radio'] {\n    display: none;\n\n    &:checked {\n      + "," {\n        border-color: #5361fd;\n        color: #5361fd;\n\n        .checked {\n          display: block;\n          color: green;\n        }\n      }\n    }\n  }\n"]);return ba=function(){return e},e}function ha(){var e=Object(w.a)(["\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  border: solid 1.2px rgba(115, 127, 137, 1);\n  height: 40px;\n  margin-bottom: 20.5px;\n  box-sizing: border-box;\n  padding-left: 20px;\n  position: relative;\n  overflow: hidden;\n  box-sizing: border-box;\n  transition: all 0.2s ease-in;\n  display: flex;\n  justify-content: space-between;\n  padding: 0 8px;\n  border-radius: 4px;\n\n  .checked {\n    display: none;\n  }\n\n  &:hover {\n    border-color: #5361fd;\n    color: #5361fd;\n  }\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n\n  .img-group {\n    display: flex;\n    align-items: center;\n\n    img {\n      width: 32px;\n      padding-right: 1em;\n    }\n  }\n"]);return ha=function(){return e},e}var va=E.default.label(ha()),xa=E.default.li(ba(),va),wa=function(e){var t=e.data,n=e.onSelect,r=e.radioName,a=e.id,i=e.checked;return l.a.createElement(xa,{"data-testid":"provider-item"},l.a.createElement("input",{type:"radio",name:r,id:a,onChange:n,value:t.registerLink,checked:i}),l.a.createElement(va,{htmlFor:a,className:"provider-item"},l.a.createElement("div",{className:"img-group"},l.a.createElement("img",{src:t.image,alt:t.label}),l.a.createElement("span",{className:"label"},t.label)),l.a.createElement(Ne.a,{icon:"check",className:"checked"})))};function Ea(){var e=Object(w.a)(["\n  text-align: center;\n  margin-top: 40px;\n\n  h1 {\n    color: #ffffff;\n  }\n\n  span {\n    color: #ffffff;\n    font-family: Raleway;\n    font-size: 16px;\n    font-weight: bold;\n    line-height: 20px;\n    text-align: center;\n    display: block;\n    padding: 1.5em 0;\n  }\n\n  .rocket {\n    width: 250px;\n    height: 250px;\n    text-align: center;\n    padding: 40px 0 40px 0;\n  }\n"]);return Ea=function(){return e},e}var ka=Object(E.default)(O)(Ea()),ya=function(e){function t(e){var n;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(Oe.a)(t).call(this,e))).redirect=Object(A.a)(I.a.mark(function e(){var t;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.history,e.next=3,clearInterval(n.interval);case 3:t.push("/login");case 4:case"end":return e.stop()}},e)})),n.countDown=function(){0===n.state.timeLeft&&n.redirect(),n.setState(function(e){return{timeLeft:e.timeLeft-1}})},n.state={timeLeft:15},n}return Object(je.a)(t,e),Object(ke.a)(t,[{key:"componentDidMount",value:function(){this.interval=setInterval(this.countDown,1e3)}},{key:"componentWillUnmount",value:function(){var e=Object(A.a)(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,clearInterval(this.interval);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.timeLeft;return l.a.createElement(ka,{className:"registration-success--page"},l.a.createElement(S,null,l.a.createElement("h1",null,"Success! Welcome to the decentralized web."),l.a.createElement("img",{src:"img/rocket.svg",alt:"rocket",className:"rocket"}),l.a.createElement("span",null,"We have emailed you more information about your new Solid Identity"),l.a.createElement("span",null,"We will redirect you to your POD in ",e," seconds...")))}}]),t}(c.Component),Oa=function(e){function t(e){var n;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(Oe.a)(t).call(this,e))).next=function(){var e=n.state,t=e.canContinue,r=e.register.provider,a=window.location,i=a.protocol,o=a.host;t&&(window.location="".concat(r,"?returnToUrl=").concat(i,"//").concat(o,"/register/success"))},n.selectProvider=function(e){var t=n.state.register;n.setState({register:Object($.a)({},t,{provider:e.target.value}),canContinue:!0})},n.onSubmit=function(e){e.preventDefault();var t=n.state,r=t.canContinue,a=t.register.provider,i=window.location,o=i.protocol,c=i.host;r&&(window.location="".concat(a,"?returnToUrl=").concat(o,"//").concat(c,"/register/success"))},n.state={canContinue:!1,register:{provider:""}},n}return Object(je.a)(t,e),Object(ke.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.canContinue,r=t.register.provider,a=this.props,i=a.providers,o=a.t;return l.a.createElement(O,null,l.a.createElement(S,null,l.a.createElement(da,{"data-testid":"register-wrapper"},l.a.createElement("h1",{"data-testid":"title"},o("register.title")),l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement(pa,{className:"register-panel"},l.a.createElement(fa,{className:"panel-header","data-testid":"panel-header"},l.a.createElement("h2",null,o("register.step1Title")),l.a.createElement("div",{className:"progress-bar"})),l.a.createElement(ma,{className:"panel-body"},l.a.createElement(c.Fragment,null,l.a.createElement("a",{href:"https://solid.inrupt.com/how-it-works",target:"_blank",rel:"noopener noreferrer"},o("register.whatIsAProvider")),l.a.createElement(qt.a,{to:"/login",className:"a-with-spacing"},o("register.alreadySolid")),l.a.createElement("ul",null,i.map(function(t){return l.a.createElement(wa,{data:t,key:t.id,onSelect:e.selectProvider,radioName:"providerRadio",id:"radio-".concat(t.id),checked:t.registerLink===r})})))),l.a.createElement(ga,{className:"actions"},l.a.createElement("button",{className:"btn-solid",onClick:this.next,type:"submit",disabled:!n},o("register.next"))))))))}}]),t}(c.Component),ja=Object(p.d)()(Oa),Na=function(e){function t(e){var n;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(Oe.a)(t).call(this,e))).state={providers:[]},n}return Object(je.a)(t,e),Object(ke.a)(t,[{key:"componentDidMount",value:function(){var e=Object(A.a)(I.a.mark(function e(){var t;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aa.getIdentityProviders();case 2:t=e.sent,this.setState({providers:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.providers;return l.a.createElement(ja,Object.assign({providers:e},this.props))}}]),t}(c.Component);function Sa(){var e=Object(w.a)(["\n  max-width: 54%;\n  margin: 100px 40px 0 50px;\n\n  @media only screen and (max-width: 900px) {\n    max-width: 100%;\n    margin: 20px 40px;\n    text-align: center;\n  }\n\n  @media only screen and (max-width: 600px) {\n    img {\n      width: 100%;\n    }\n  }\n"]);return Sa=function(){return e},e}function Ca(){var e=Object(w.a)(["\n  display: flex;\n  flex-direction: row-reverse;\n  background-image: url('img/spaceman.svg');\n  background-repeat: no-repeat;\n  background-position-x: -125px;\n  background-position-y: 100px;\n  height: 100%;\n\n  @media only screen and (max-width: 900px) {\n    background-image: url('img/spaceman-mobile.svg');\n    background-position: left -80px bottom -10px;\n    background-size: 70%;\n  }\n"]);return Ca=function(){return e},e}var Ia=E.default.section(Ca()),La=E.default.div(Sa()),Ra=function(){var e=Object(p.c)().t;return l.a.createElement(Ia,null,l.a.createElement(La,null,l.a.createElement("img",{src:"img/404.svg",alt:"404"}),l.a.createElement("h3",null,e("notFound.title")),l.a.createElement("p",null,e("notFound.content")),l.a.createElement("div",null,l.a.createElement(qt.a,{to:"/",className:"ids-link"},e("notFound.redirectButton")))))},Pa=n(61);function Da(){var e=Object(w.a)(["\n  overflow-wrap: break-word;\n  word-break: break-word;\n"]);return Da=function(){return e},e}function Fa(){var e=Object(w.a)(["\n  padding: 1rem 3.5rem;\n\n  p,\n  li {\n    color: #666666;\n  }\n  ul {\n    list-style: disc;\n    margin: 0 18px;\n  }\n"]);return Fa=function(){return e},e}function Aa(){var e=Object(w.a)(["\n  background-image: ",";\n  background-size: cover;\n  border-radius: 50%;\n  width: 128px;\n  height: 128px;\n"]);return Aa=function(){return e},e}function Ta(){var e=Object(w.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  button {\n    margin-left: 0px;\n  }\n"]);return Ta=function(){return e},e}function Ma(){var e=Object(w.a)(['\n    width: 50%;\n    &:after {\n      display: block;\n      content: "";\n      position: absolute;\n      height: 100%;\n      width: 1px;\n      background-color:#D0D0D0;\n      top:0;\n    }\n  ']);return Ma=function(){return e},e}function za(){var e=Object(w.a)(["\n  height: 100%;\n  text-align: center;\n  position: relative;\n\n  img {\n    width: 120px;\n    height: 120px;\n    border-radius: 50%;\n  }\n\n  h1,\n  img {\n    margin: 0 10px;\n    display: inline-block;\n    vertical-align: middle;\n  }\n\n  ","\n"]);return za=function(){return e},e}function Ua(){var e=Object(w.a)(["\n  width: 40%;\n  height: 100%;\n\n  img {\n    width: 40%;\n    display: block;\n    margin: 0 auto;\n  }\n"]);return Ua=function(){return e},e}function _a(){var e=Object(w.a)(["\n  background-color: #fff;\n  margin: 30px auto;\n\n  //Overriding the style guide card flexbox settings\n  max-width: 80% !important;\n  flex-direction: row !important;\n  padding: 50px 0 !important; //temporary fix to a style guide bug\n\n  align-items: center;\n\n  a {\n    text-decoration: none;\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n\n  button {\n    margin-left: 8px;\n  }\n"]);return _a=function(){return e},e}function Ba(){var e=Object(w.a)(["\n  width: 100%;\n  background-image: url('img/concentric-hex-pattern_2x.png');\n  background-repeat: repeat;\n  padding: 50px 0;\n\n  h3 {\n    color: #666666;\n    span {\n      font-weight: bold;\n    }\n    a {\n      font-size: 1.9rem;\n    }\n  }\n"]);return Ba=function(){return e},e}var Wa=E.default.section(Ba()),Va=E.default.div(_a()),qa=E.default.div(Ua()),Ga=E.default.div(za(),P.tablet(Ma())),Ja=E.default.div(Ta()),Xa=(E.default.div(Aa(),function(e){var t=e.image;return t?"url(".concat(t,")"):"#cccccc"}),E.default.div(Fa())),Ka=E.default.span(Da()),Ya=function(e){var t=e.webId,n=e.image,r=e.updatePhoto,a=e.name,i=Object(p.c)().t;return l.a.createElement(Wa,{"data-testid":"welcome-wrapper"},l.a.createElement(Va,{className:"card"},l.a.createElement(qa,{"data-testid":"welcome-logo"},l.a.createElement("img",{src:"img/logo/logo.png",alt:"logo"})),l.a.createElement(Ga,{"data-testid":"welcome-profile"},l.a.createElement("h3",null,i("welcome.welcome"),", ",l.a.createElement(Ka,null,a)),l.a.createElement(Ja,null,l.a.createElement(ee.Uploader,{fileBase:t&&t.split("/card")[0],limitFiles:1,limitSize:21e5,accept:"jpg,jpeg,png",errorsText:{sizeLimit:i("welcome.errors.sizeLimit",{limit:"".concat(2.1,"Mbs")}),unsupported:i("welcome.errors.unsupported"),maximumFiles:i("welcome.errors.maximumFiles")},onError:function(e){e&&e.statusText&&D(e.statusText,i("welcome.errorTitle"))},onComplete:function(e){r(e[e.length-1].uri,i("welcome.uploadSuccess"),i("welcome.successTitle"))},render:function(e){return l.a.createElement(jn,Object($.a)({},e,{webId:t,photo:n,text:i("welcome.upload"),uploadingText:i("welcome.uploadingText")}))}})))),l.a.createElement(Va,{className:"card"},l.a.createElement(Xa,{"data-testid":"welcome-detail"},l.a.createElement(p.a,{i18nKey:"welcome.title"},l.a.createElement("h3",null,"title",l.a.createElement("a",{href:"https://github.com/inrupt/solid-react-sdk",target:"_blank",rel:"noopener noreferrer"},"link"))),l.a.createElement(p.a,{i18nKey:"welcome.description"},l.a.createElement("p",null,"text",l.a.createElement("a",{href:"https://github.com/inrupt/solid-react-sdk",target:"_blank",rel:"noopener noreferrer"},"link"," ")," ","text")),l.a.createElement("p",null,i("welcome.integrantesEquipo")),l.a.createElement("li",null,i("welcome.integrante1")),l.a.createElement("li",null,i("welcome.integrante2")),l.a.createElement("li",null,i("welcome.integrante3")),l.a.createElement("li",null,i("welcome.integrante4")),l.a.createElement("li",null,i("welcome.integrante5")),l.a.createElement("li",null,i("welcome.integrante6")),l.a.createElement("p",null,i("welcome.informacionEquipo")))))},Ha="img/icon/empty-profile.svg",$a=function(e){function t(e){var n;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(Oe.a)(t).call(this,e))).getProfileData=Object(A.a)(I.a.mark(function e(){var t,r,a,i,o,c,l;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isLoading:!0}),r=n.props.webId,a=U.a[r],e.next=5,a.vcard_fn;case 5:return i=e.sent,o=i&&i.value.trim().length>0?i.value:r.toString(),e.next=9,a.vcard_hasPhoto;case 9:(c=e.sent)&&c.value?(l=c.value,t=!0):(t=!1,l=Ha),n.setState({name:o,image:l,isLoading:!1,hasImage:t});case 12:case"end":return e.stop()}},e)})),n.updatePhoto=function(){var e=Object(A.a)(I.a.mark(function e(t,r){var a,i,o,c=arguments;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=c.length>2&&void 0!==c[2]?c[2]:"",i=n.state.hasImage,e.prev=2,o=U.a.user,!i){e.next=9;break}return e.next=7,o.vcard_hasPhoto.set(Object(Pa.namedNode)(t));case 7:e.next=11;break;case 9:return e.next=11,o.vcard_hasPhoto.add(Object(Pa.namedNode)(t));case 11:F(r,a),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),D(e.t0.message,"Error");case 17:case"end":return e.stop()}},e,null,[[2,14]])}));return function(t,n){return e.apply(this,arguments)}}(),n.state={name:"",image:Ha,isLoading:!1,hasImage:!1},n}return Object(je.a)(t,e),Object(ke.a)(t,[{key:"componentDidMount",value:function(){this.props.webId&&this.getProfileData()}},{key:"componentDidUpdate",value:function(e){var t=this.props.webId;t&&t!==e.webId&&this.getProfileData()}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.image,r=e.isLoading,a=this.props.webId;return l.a.createElement(Ya,{name:t,image:n,isLoading:r,webId:a,updatePhoto:this.updatePhoto})}}]),t}(c.Component);function Za(){var e=Object(w.a)(["\n  border: 1px solid #dae0e6;\n  min-height: 40px;\n  padding: 5px;\n\n  .inrupt-form-group {\n    border: 1px solid #c0c0c0;\n    background-color: #f9f9f9;\n    margin: 15px 0;\n  }\n\n  .input-wrap {\n    margin: 0;\n  }\n\n  input {\n    margin-left: 0;\n  }\n"]);return Za=function(){return e},e}function Qa(){var e=Object(w.a)(["\n  margin-bottom: 0px !important;\n"]);return Qa=function(){return e},e}function ei(){var e=Object(w.a)(["\n  padding: 20px 40px 0px 40px;\n  position: relative;\n  &:after {\n    background-color: #d8d8d8;\n    display: block;\n    content: '';\n    height: 1px;\n    width: 100%;\n    margin: 25px 0 0 0;\n  }\n  a {\n    display: inline-block;\n    word-break: break-all;\n    margin-left: 10px;\n  }\n"]);return ei=function(){return e},e}function ti(){var e=Object(w.a)(["\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  background-image: url('img/pattern-geo.png'),\n    linear-gradient(135deg, #7c4dff 0%, #18a9e6 50%, #01c9ea 100%);\n  background-repeat: repeat, no-repeat;\n  padding: 30px 20px;\n\n  .edit-button {\n    background: rgba(255, 255, 255, 0.1);\n    border: 2px solid white;\n    color: white;\n    position: absolute;\n    right: 20px;\n    top: 20px;\n    font-size: 1rem;\n  }\n"]);return ti=function(){return e},e}function ni(){var e=Object(w.a)(["\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n  background-color: white;\n  max-width: 900px;\n  margin: 0 20px;\n  width: 100%;\n  flex: 1 0 auto;\n"]);return ni=function(){return e},e}function ri(){var e=Object(w.a)(["\n  display: flex;\n  flex: 1 0 auto;\n  align-items: center;\n  justify-content: center;\n  background-image: url('img/concentric-hex-pattern_2x.png');\n  background-repeat: repeat;\n  padding: 60px 0;\n"]);return ri=function(){return e},e}var ai=E.default.section(ri()),ii=E.default.div(ni()),oi=E.default.div(ti()),ci=E.default.div(ei()),li=E.default.section(Qa()),ui=E.default.div(Za()),si=function(e){var t=e.webId,n=e.defaultProfilePhoto,r=Object(c.useState)(""),a=Object(ot.a)(r,2),i=a[0],o=a[1],u=Object(ee.useLiveUpdate)(),s=Object(p.c)().t,d=function(){var e=Object(A.a)(I.a.mark(function e(){var n,r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=7;break}return n=U.a.user,e.next=5,n.vcard_hasPhoto;case 5:r=e.sent,o(r&&r.value);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),D(e.t0.message,"Error 500");case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)(function(){d()},[t,u]);var f=function(){var e=Object(A.a)(I.a.mark(function e(t){var n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=U.a.user,e.next=4,n.vcard_hasPhoto.set(Object(Pa.namedNode)(t));case 4:F(s("profile.uploadSuccess"),s("profile.successTitle")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),D(e.t0.message,s("profile.errorTitle"));case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(ee.Uploader,{fileBase:t&&t.split("/card")[0],limitFiles:1,limitSize:21e5,accept:"png,jpeg,jpg",errorsText:{sizeLimit:s("profile.errors.sizeLimit",{limit:"".concat(2.1,"Mbs")}),unsupported:s("profile.errors.unsupported"),maximumFiles:s("profile.errors.maximumFiles")},onError:function(e){e&&e.statusText&&D(e.statusText,"Error")},onComplete:function(e){f(e[e.length-1].uri)},render:function(e){return l.a.createElement(jn,Object($.a)({},e,{webId:t,photo:i||n,text:s("profile.upload"),uploadingText:s("profile.uploadingText")}))}})},di=function(e){var t=e.webId,n=Object(p.c)().t,r=Object(c.useState)(!1),a=Object(ot.a)(r,2),i=a[0],o=a[1];return l.a.createElement(ai,{"data-testid":"profile-component"},l.a.createElement(ii,null,t&&l.a.createElement(c.Fragment,null,l.a.createElement(oi,null,l.a.createElement(si,{webId:t,defaultProfilePhoto:"img/icon/empty-profile.svg"})),l.a.createElement(li,{className:"banner-wrap--warning banner"},l.a.createElement("div",{className:"banner-wrap__content"},l.a.createElement("i",{className:"icon fa fa-exclamation-circle"}),n("profile.autosaveNotification"))),l.a.createElement(ui,null,l.a.createElement(ci,null,l.a.createElement(Ne.a,{icon:"id-card"}),l.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},t)),l.a.createElement(ee.FormModel,Object.assign({modelPath:"https://solidsdk.inrupt.net/sdk/userprofile.ttl#formRoot",podPath:t,viewer:!1,onInit:function(){return o(!0)},onLoaded:function(){return o(!1)},onSuccess:function(){},onSave:function(){},onError:function(e){e.message.toString().indexOf("Validation failed")<0&&(D(n("formLanguage.renderer.formNotLoaded"),n("notifications.error"),{label:n("errorFormRender.link.label"),href:n("errorFormRender.link.href")}),o(!1))},onAddNewField:function(e){F(n("formLanguage.renderer.fieldAdded"),n("notifications.success"))},onDelete:function(e){F(n("formLanguage.renderer.fieldDeleted"),n("notifications.success"))},settings:{theme:{inputText:"input-wrap",inputCheckbox:"sdk-checkbox checkbox",form:"inrupt-sdk-form",childGroup:"inrupt-form-group"},savingComponent:kr}},{autoSave:!0})))),i&&l.a.createElement(Qe,{absolute:!0})))},pi=n(110),fi=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";Object(Ee.a)(this,e),this.uuid=pi.uuid,this.name=t,this.points=n,this.description=r,this.comments=a,this.description=r,this.media=[],this.img="",this.distance=0,this.rank=0,this.date="",this.webId=""}return Object(ke.a)(e,[{key:"parseRoute",value:function(){console.log("parseando.."),this.name="Nombre Ruta",this.points.push(new Nr(43.354856,-5.85145)),this.points.push(new Nr(43.36488,-5.85145)),this.points.push(new Nr(43.3849,-5.85145)),console.log(this.points)}},{key:"setWebId",value:function(e){this.webId=e}},{key:"getWebId",value:function(){return this.webId}},{key:"setImg",value:function(e){this.img=e}},{key:"setName",value:function(e){this.name=e}},{key:"setDescription",value:function(e){this.description=e}},{key:"setDistance",value:function(e){this.distance=e}},{key:"setRank",value:function(e){this.rank=e}},{key:"setDate",value:function(e){this.date=e}},{key:"getPoints",value:function(){return this.points}},{key:"getImg",value:function(){return this.img}},{key:"getUUID",value:function(){return this.uuid}},{key:"setMedia",value:function(e){this.media=e}}]),e}(),mi=n(111),gi=n.n(mi),bi=new function e(){var t=this;Object(Ee.a)(this,e),this.selectParser=function(e){switch(e.name.split(".")[1]){case"geojson":return 1;case"gpx":return 2;case"kml":return 3;default:console.log("formato no soportado")}},this.parse=function(e){var n=e,r=t.selectParser(n);return new Promise(function(e,a){var i=new FileReader;1===r&&(console.log("Es geojson"),i.onload=function(){var r;try{r=JSON.parse(i.result);var a=t.getCoordenadasGeoJSON(r),o=n.name.split(".")[0],c="";if(null===a)e(null);else{void 0!==r.features[0].properties&&(void 0!==r.features[0].properties.name&&(o=r.features[0].properties.name),void 0!==r.features[0].properties.description&&(c=r.features[0].properties.description));var l=new fi(o,a,c);e(l)}}catch(u){console.log(u)}}),2===r&&(i.onload=function(){var r;try{r=(new DOMParser).parseFromString(i.result,"text/xml");var a=t.getCoordenadasGPX(r);if(null===a)e(null);else{var o=n.name.split(".")[0],c=new fi(o,a);e(c)}}catch(l){}}),3===r&&(i.onload=function(){var r,a=new DOMParser;try{var o;if("kml"===(r=a.parseFromString(i.result,"text/xml")).documentElement.nodeName)try{o=gi.a.kml(r),console.log(o);var c=t.getCoordenadasKml(o);if(null===c)e(null);else{var l=n.name.split(".")[0],u="";void 0!==o.features[0].properties&&(void 0!==o.features[0].properties.name&&(l=o.features[0].properties.name),void 0!==o.features[0].properties.description&&(u=o.features[0].properties.description));var s=new fi(l,c,u);e(s)}}catch(d){}}catch(d){}}),i.onerror=a,i.readAsText(n)})},this.getCoordenadasKml=function(e){if(e.features.length>1)return null;if("LineString"!==e.features[0].geometry.type)return null;for(var t=new Array(e.features[0].geometry.coordinates.length),n=0;n<e.features[0].geometry.coordinates.length;n++)3===e.features[0].geometry.coordinates[n].length?t[n]=new Nr(e.features[0].geometry.coordinates[n][1],e.features[0].geometry.coordinates[n][0],n+1,e.features[0].geometry.coordinates[n][2]):t[n]=new Nr(e.features[0].geometry.coordinates[n][1],e.features[0].geometry.coordinates[n][0],n+1);return t},this.getCoordenadasGPX=function(e){if(void 0!==e.getElementsByTagName("trk")){var t=e.getElementsByTagName("trk");if(1===t.length){var n=t[0].getElementsByTagName("trkseg");if(void 0!==n&&1===n.length){for(var r=n[0].getElementsByTagName("trkpt"),a=new Array(r.length),i=0;i<r.length;i++)a[i]=new Nr(r[i].getAttribute("lat"),r[i].getAttribute("lon"),i+1,r[i].getElementsByTagName("ele")[0].innerHTML);return a}return null}return null}return null},this.getCoordenadasGeoJSON=function(e){if(e.features.length>1)return null;if("LineString"!==e.features[0].geometry.type)return null;for(var t=new Array(e.features[0].geometry.coordinates.length),n=0;n<e.features[0].geometry.coordinates.length;n++)t[n]=new Nr(e.features[0].geometry.coordinates[n][0],e.features[0].geometry.coordinates[n][1],n+1);return t}},hi=new function e(){var t=this;Object(Ee.a)(this,e),this.parse=function(e){t.rdf="",t.rdf="@prefix viade: <http://arquisoft.github.io/viadeSpec/>. ",t.rdf+="@prefix : <http://example.org/>. ",t.rdf+="@prefix schema: <http://schema.org/>. ",t.rdf+="@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>. ",t.rdf+="@prefix xsd: <http://www.w3.org/2001/XMLSchema#>. ",t.rdf+=":myRoute a viade:Route ;",t.rdf+='schema:name "'+e.name+'"',""!==e.description&&(t.rdf+=";",t.rdf+='schema:description "'+e.description+'"'),0===e.points.length&&0===e.media.length?t.rdf+=".":t.rdf+=";";for(var n=0;n<e.points.length;n++)t.rdf+="viade:point [",t.rdf+="schema:latitude "+e.points[n].latitud+" ;",t.rdf+="schema:longitude "+e.points[n].longitud+" ;",""===e.points[n].elevacion?t.rdf+="viade:order "+e.points[n].order:(t.rdf+="viade:order "+e.points[n].order+" ;",t.rdf+="schema:elevation "+e.points[n].elevacion),n===e.points.length-1?e.media.length>0?t.rdf+="] ;":t.rdf+="] .":t.rdf+="] ;";if(e.media.length>0){for(var r=0;r<e.media.length;r++)t.rdf+="viade:hasMediaAttached :media"+(r+1),r===e.media.length-1?t.rdf+=". ":t.rdf+="; ";for(var a=0;a<e.media.length;a++){t.rdf+=":media"+(a+1)+" schema:contentUrl <"+e.media[a].contentUrl+">; ";var i='"'+e.media[a].publicationTime.getFullYear()+"-"+e.media[a].publicationTime.getMonth()+"-"+e.media[a].publicationTime.getDate()+"T"+e.media[a].publicationTime.getHours()+":"+e.media[a].publicationTime.getMinutes()+":"+e.media[a].publicationTime.getSeconds()+'"';t.rdf+="schema:publishedDate "+i+"^^xsd:dateTime ; ",t.rdf+="schema:author <"+e.media[a].author+"> . "}}return t.rdf.toString()}};function vi(){var e=Object(w.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  button {\n    margin-left: 0px;\n  }\n"]);return vi=function(){return e},e}function xi(){var e=Object(w.a)(['\n    width: 50%;\n    &:after {\n      display: block;\n      content: "";\n      position: absolute;\n      height: 100%;\n      width: 1px;\n      background-color:#D0D0D0;\n      top:0;\n    }\n  ']);return xi=function(){return e},e}function wi(){var e=Object(w.a)(["\n  height: 100%;\n  text-align: center;\n  position: relative;\n  img {\n    width: 120px;\n    height: 120px;\n    border-radius: 50%;\n  }\n  h1,\n  img {\n    margin: 0 10px;\n    display: inline-block;\n    vertical-align: middle;\n  }\n  ","\n"]);return wi=function(){return e},e}function Ei(){var e=Object(w.a)(["\n  margin: 5px;\n"]);return Ei=function(){return e},e}function ki(){var e=Object(w.a)(["\n    color:white;\n"]);return ki=function(){return e},e}function yi(){var e=Object(w.a)(["\n    vertical-align: middle;\n    padding: 15px;\n"]);return yi=function(){return e},e}function Oi(){var e=Object(w.a)(["\n  align: middle;\n  display: block; \n  padding: 20px;\n  color: black;\n"]);return Oi=function(){return e},e}function ji(){var e=Object(w.a)(["\n    margin: 25px;\n    max-width: 128px;\n    display: inline-block;\n    \n    &:first-child {\n    margin-right: 10px;\n    }\n"]);return ji=function(){return e},e}function Ni(){var e=Object(w.a)(["\n    display: flex;\n    position: relative;\n    align-items: center;\n    justify-content: center;\n    background-image: url('img/pattern-geo.png'),\n    linear-gradient(135deg, #B05103 0%, #FD7200 50%, #F48E3C 100%);\n    background-repeat: repeat, no-repeat;\n    padding: 30px 20px;\n"]);return Ni=function(){return e},e}function Si(){var e=Object(w.a)(["\n  padding: 150px\n  position: relative\n  display: flex;\n  flex: 1 0 auto;\n  display: block;\n  text-align: center;\n  flex-direction:row !important;\n  background-image: url('img/concentric-hex-pattern_2x.png');\n  background-repeat: repeat;\n  height: inherit;\n  width: 100vw !important;\n"]);return Si=function(){return e},e}function Ci(){var e=Object(w.a)(["\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid blue;\n  background: white;\n"]);return Ci=function(){return e},e}function Ii(){var e=Object(w.a)(["\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  border: 20px solid white;\n  background: white;\n"]);return Ii=function(){return e},e}var Li=E.default.div(Ii()),Ri=(E.default.div(Ci()),E.default.section(Si())),Pi=E.default.div(Ni()),Di=E.default.button(ji()),Fi=(E.default.input(Oi()),E.default.label(yi()),E.default.h1(ki())),Ai=(E.default.textarea(Ei()),E.default.div(wi(),P.tablet(xi())),E.default.div(vi()),n(30)),Ti=n(95),Mi=function(){function e(t,n,r,a){Object(Ee.a)(this,e),this.contentUrl=t,this.author=n,this.publicationTime=r,this.type=a}return Object(ke.a)(e,[{key:"getUrl",value:function(){if(this.media)return URL.createObjectURL(this.media)}},{key:"getComponent",value:function(){return"video"===this.type?l.a.createElement("video",{controls:!0,className:"d-block route-img",src:this.getUrl()}):"image"===this.type?l.a.createElement("img",{className:"d-block route-img",src:this.getUrl(),alt:this.author}):void 0}}]),e}(),zi=function(){function e(){Object(Ee.a)(this,e)}return Object(ke.a)(e,[{key:"saveImage",value:function(e,t,n){M.a.fetch(e,{method:"PUT",body:t,headers:{"Content-Type":n}})}},{key:"loadMedia",value:function(e,t){new hr.a(M.a).readFile(e).then(function(e){return t(e)})}}]),e}(),Ui=function(e){var t="",n=[],r=l.a.createRef(),a=l.a.createRef(),i=function(){var i=Object(A.a)(I.a.mark(function i(o){var c,l,u,s,d,p,f,m,g,b,h,x,w,E,k;return I.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(""===t){i.next=36;break}if(o.preventDefault(),c=t[0],l=e,u=e.webId,s=new hr.a(M.a),d=r.current.value,p=a.current.value,""!==d){i.next=12;break}D(v.t("addFile.errorNoName"),"Error",{}),i.next=34;break;case 12:try{f=bi.parse(c)}catch(y){console.log("COGE EL ERROR")}return i.next=15,f.then(function(e){return e});case 15:if(null!==(m=i.sent)){i.next=22;break}D(v.t("addFile.errorWithTheRoute"),"Error",{}),n=null,t="",i.next=34;break;case 22:for(m.name=d,m.description=p,m.uuid=Object(Ti.a)().split("-").join(""),g=new zi,b=u.split("profile/card#me")[0]+"viade2Prueba1/resources/",h=0;h<n.length;h++)x="."+n[h].name.split(".").slice(-1)[0],w=Object(Ti.a)().split("-").join("")+x,g.saveImage(b+w,n[h],n[h].type),"image"===n[h].type.split("/")[0]&&m.media.push(new Mi(b+w,u,new Date,"image")),"video"===n[h].type.split("/")[0]&&m.media.push(new Mi(b+w,u,new Date,"video"));return E=hi.parse(m),k=u.split("profile/card#me")[0]+"viade/routes/"+m.uuid+".ttl",i.next=32,s.createFile(k,E,"text/turtle",{});case 32:F(v.t("addFile.uploadGood","Great")),l.history.push("/routes/listRoutes");case 34:i.next=37;break;case 36:D(v.t("addFile.errorNoFile"),"Error",{});case 37:case"end":return i.stop()}},i)}));return function(e){return i.apply(this,arguments)}}();return l.a.createElement(Ri,null,l.a.createElement(Pi,null,l.a.createElement(Fi,null,v.t("addFile.title"))),l.a.createElement(Ai.a,null,l.a.createElement(Li,null,l.a.createElement(Ai.a.Group,{controlId:"formBasicName"},l.a.createElement(Ai.a.Label,null,v.t("addFile.nombre")),l.a.createElement(Ai.a.Control,{id:"nombre",type:"text",placeholder:"Enter name",ref:r})),l.a.createElement("br",null),l.a.createElement(Ai.a.Group,{controlId:"formBasicDescription"},l.a.createElement(Ai.a.Label,null,v.t("addFile.descripcion")),l.a.createElement(Ai.a.Control,{id:"descripcion",type:"text",placeholder:"Enter description",ref:a})),l.a.createElement("br",null),l.a.createElement(Ai.a.Group,{controlId:"formBasicFichero"},l.a.createElement(Ai.a.Label,null,v.t("addFile.anadirFichero")),l.a.createElement(Ai.a.File,{id:"formcheck-api-regular"},l.a.createElement(Ai.a.File.Input,{type:"file",name:"files[]",id:"file",onChange:function(e){if(0!==(t=e.target.files).length){var n=t[0].name.split(".")[1];"geojson"!==n&&"gpx"!==n&&"kml"!==n&&(D(v.t("addFile.errorTipoFichero"),"Error",{}),e.target.value=null,t="")}else t=""}})))),l.a.createElement("br",null),l.a.createElement(Li,null,l.a.createElement(Ai.a.Group,{controlId:"formBasicImage"},l.a.createElement(Ai.a.Label,null,v.t("addFile.anadirMedia")),l.a.createElement(Ai.a.File,{id:"formcheck-api-regular"},l.a.createElement(Ai.a.File.Input,{type:"file",name:"media[]",ref:n,id:"media",accept:"image/*,video/*",onChange:function(e){for(var t=0,r=0;r<e.target.files.length;r++)"image"!==e.target.files[r].type.split("/")[0]&&"video"!==e.target.files[r].type.split("/")[0]&&t++,n.push(e.target.files[r]);0===t||(n=[],e.target.value=null,D(v.t("addFile.errorMedia"),"Error",{}))},multiple:!0})))),l.a.createElement(Di,{id:"submitId",type:"submit",onClick:i},v.t("addFile.loadPod"))),l.a.createElement("div",{id:"mapa"}))};function _i(){var e=Object(w.a)(["\nalign-self: felx-start\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  width:20%;\n"]);return _i=function(){return e},e}function Bi(){var e=Object(w.a)(["\n    border = 1em;\n  padding: 1rem 3.5rem;\n    img{\n  width:100%;\n  height:100%;\n  flex-basis: 2;\n  }\n    li{\n      font-weight: bold;\n      font : Verdana;\n      font-size:20px;\n  }\n"]);return Bi=function(){return e},e}function Wi(){var e=Object(w.a)(["\n  background-color: #fff;\n  margin: 30px auto;\n  max-width: 90%;\n  display: flex;\n  flex-direction: row;\n  padding: 10px 0;\n  align-items: center;\n"]);return Wi=function(){return e},e}function Vi(){var e=Object(w.a)(["\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  background-image: url('img/pattern-geo.png'),\n  linear-gradient(135deg, #B05103 0%, #FD7200 50%, #F48E3C 100%);\n  background-repeat: repeat, no-repeat;\n  padding: 30px 20px;\n"]);return Vi=function(){return e},e}function qi(){var e=Object(w.a)(["\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n  background-color: white;\n  max-width: 90%;\n  margin: 0 20px;\n  width: 100%;\n  flex: 1 0 auto;\n"]);return qi=function(){return e},e}function Gi(){var e=Object(w.a)(["\n  display: flex;\n  flex: 1 0 auto;\n  align-items: center;\n  justify-content: center;\n  background-image: url('img/concentric-hex-pattern_2x.png');\n  background-repeat: repeat;\n  padding: 60px 0;\n  h1 {\n    color: white;\n      font-weight: bold;\n      font : Verdana;\n  }\n  \n  img { \n    position: relative;\n  }\n"]);return Gi=function(){return e},e}var Ji=E.default.section(Gi()),Xi=E.default.div(qi()),Ki=E.default.div(Vi()),Yi=E.default.div(Wi()),Hi=E.default.div(Bi()),$i=E.default.div(_i()),Zi=function(e){var t=e.friend;return l.a.createElement("tr",{key:t.webId},l.a.createElement("td",null,l.a.createElement($i,null," ",l.a.createElement("img",{src:t.image,alt:"imagen"}))),l.a.createElement("td",null,l.a.createElement("a",{href:t.webId},t.name)))},Qi=function(e){var t=Object(p.c)().t,n=e.friends;return l.a.createElement(Ji,null,l.a.createElement(Xi,null,l.a.createElement(Ki,null,l.a.createElement("h1",{className:"text--white"}," ",t("navBar.friends")," ")),n.map(function(e){return l.a.createElement(Yi,{className:"card"},l.a.createElement(Hi,{"data-testid":"welcome-detail"},l.a.createElement("table",null,l.a.createElement(Zi,{friend:e}))))})))},eo=function(e){function t(e){var n;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(Oe.a)(t).call(this,e))).getProfileData=Object(A.a)(I.a.mark(function e(){var t,r,a,i,o,c,l,u,s,d,p,f,m,g,b,h,v;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({isLoading:!0}),t=n.props.webId,r=U.a[t],a=[],i=!0,o=!1,e.prev=6,l=Object(Q.a)(r.friends);case 8:return e.next=10,l.next();case 10:return u=e.sent,i=u.done,e.next=14,u.value;case 14:if(s=e.sent,i){e.next=35;break}return d=s,e.next=19,d.value;case 19:return p=e.sent,f=U.a[p],e.next=23,f.name;case 23:return m=e.sent,g=m&&m.value.trim().length>0?m.value:p.toString(),e.next=27,f.vcard_hasPhoto;case 27:b=e.sent,h=void 0,h=b&&b.value?b.value:"",v={webId:p,name:g,image:h},a.push(v);case 32:i=!0,e.next=8;break;case 35:e.next=41;break;case 37:e.prev=37,e.t0=e.catch(6),o=!0,c=e.t0;case 41:if(e.prev=41,e.prev=42,i||null==l.return){e.next=46;break}return e.next=46,l.return();case 46:if(e.prev=46,!o){e.next=49;break}throw c;case 49:return e.finish(46);case 50:return e.finish(41);case 51:n.setState({friends:a});case 52:case"end":return e.stop()}},e,null,[[6,37,41,51],[42,,46,50]])})),n.state={friends:[]},n}return Object(je.a)(t,e),Object(ke.a)(t,[{key:"componentDidMount",value:function(){this.props.webId&&this.getProfileData()}},{key:"componentDidUpdate",value:function(e){var t=this.props.webId;t&&t!==e.webId&&this.getProfileData()}},{key:"render",value:function(){var e=this.state.friends,t=this.props.webId;return l.a.createElement(Qi,{friends:e,webId:t})}}]),t}(c.Component),to=n(48);function no(){var e=Object(w.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  button {\n    margin-left: 0px;\n  }\n"]);return no=function(){return e},e}function ro(){var e=Object(w.a)(['\n    width: 50%;\n    &:after {\n      display: block;\n      content: "";\n      position: absolute;\n      height: 100%;\n      width: 1px;\n      background-color:#D0D0D0;\n      top:0;\n    }\n  ']);return ro=function(){return e},e}function ao(){var e=Object(w.a)(["\n  height: 100%;\n  text-align: center;\n  position: relative;\n  img {\n    width: 120px;\n    height: 120px;\n    border-radius: 50%;\n  }\n  h1,\n  img {\n    margin: 0 10px;\n    display: inline-block;\n    vertical-align: middle;\n  }\n  ","\n"]);return ao=function(){return e},e}function io(){var e=Object(w.a)(["\n  margin: 5px;\n"]);return io=function(){return e},e}function oo(){var e=Object(w.a)(["\n  margin: 5px;\n  color: white;\n"]);return oo=function(){return e},e}function co(){var e=Object(w.a)(["\n  max-width: 128px;\n  display: inline-block;\n  margin-left: 5px;\n"]);return co=function(){return e},e}function lo(){var e=Object(w.a)(["\n  padding: 50px;\n  margin: 5px;\n  color: black;\n"]);return lo=function(){return e},e}function uo(){var e=Object(w.a)(["\n  display: flex;\n  flex-direction: column !important;\n  position: relative;\n   background-image: url('img/pattern-geo.png'),\n    radial-gradient(#ff8000, #ff8000, #ff8000);\n  background-repeat: repeat, no-repeat;\n  padding: 30px 20px;\n  max-width: 300px;\n"]);return uo=function(){return e},e}function so(){var e=Object(w.a)(["\n  display: flex;\n  flex: 1 0 auto;\n  flex-direction:row !important;\n  background-image: url('img/concentric-hex-pattern_2x.png');\n  background-repeat: repeat;\n  height: inherit;\n  width: 100vw !important;\n"]);return so=function(){return e},e}var po=E.default.section(so()),fo=E.default.div(uo()),mo=E.default.input(lo()),go=E.default.button(co()),bo=E.default.label(oo()),ho=(E.default.textarea(io()),E.default.div(ao(),P.tablet(ro())),E.default.div(no()),function(e){function t(e){var n,r=e.webId;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(Oe.a)(t).call(this))).state={points:[]},n.callbackFunction=function(e){n.setState({points:e})},n.webID=r.replace("profile/card#me",""),n.handleSave=n.handleSave.bind(Object(to.a)(Object(to.a)(n))),n.title=l.a.createRef(),n.description=l.a.createRef(),n.img=l.a.createRef(),n.media=[],n.PhotoURL="",n}return Object(je.a)(t,e),Object(ke.a)(t,[{key:"reset",value:function(){this.media=[],this.PhotoURL="",this.setState({points:[]}),this.title.current.value="",this.description.current.value="",this.props.history.push("/routes/addRoute")}},{key:"handleSave",value:function(){var e=Object(A.a)(I.a.mark(function e(t){var n,r,a,i,o,c,l,u,s,d;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.title.current.value.length){e.next=4;break}D(v.t("addFile.errorNoName"),"Error",{}),e.next=24;break;case 4:if(0!==this.state.points.length){e.next=8;break}D(v.t("addFile.errorNopuntos"),"Error",{}),e.next=24;break;case 8:for(n="",0===this.description.current.value.length||(n=this.description.current.value),r=this.webID.split("profile/card#me")[0]+"viade2Prueba1/resources/",a=new zi,(i=new fi(this.title.current.value,this.state.points,n)).uuid=Object(Ti.a)().split("-").join(""),o=0;o<this.img.current.files.length;o++)c="."+this.img.current.files[o].name.split(".").slice(-1)[0],l=Object(Ti.a)().split("-").join("")+c,a.saveImage(r+l,this.img.current.files[o],this.img.current.files[o].type),"image"===this.img.current.files[o].type.split("/")[0]&&i.media.push(new Mi(r+l,this.webID,new Date,"image")),"video"===this.img.current.files[o].type.split("/")[0]&&i.media.push(new Mi(r+l,this.webID,new Date,"video"));return e.next=17,hi.parse(i);case 17:return u=e.sent,s=this.webID.split("profile/card#me")[0]+"viade/routes/"+i.uuid+".ttl",d=new hr.a(M.a),e.next=22,d.createFile(s,u,"text/turtle",{});case 22:F(v.t("addFile.uploadGood","Great")),this.reset();case 24:t.preventDefault();case 25:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleMedia",value:function(e){for(var t=0,n=0;n<e.target.files.length;n++)"image"!==e.target.files[n].type.split("/")[0]&&"video"!==e.target.files[n].type.split("/")[0]&&t++;0===t||(e.target.value=null,D(v.t("addFile.errorMedia"),"Error",{}))}},{key:"render",value:function(){return l.a.createElement(po,null,l.a.createElement(fo,null,l.a.createElement("h1",{className:"text--white"},v.t("addFile.nuevaRuta")),l.a.createElement(bo,null,v.t("addFile.nombre")),l.a.createElement(mo,{id:"titulo",type:"text",size:"20",placeholder:"Nueva ruta",ref:this.title}),l.a.createElement(bo,null,v.t("addFile.descripcion")),l.a.createElement(mo,{id:"descripcion",type:"text",size:"100",placeholder:"Descripcion",ref:this.description}),l.a.createElement(bo,null,v.t("addFile.anadirMedia")),l.a.createElement("input",{type:"file",ref:this.img,onChange:this.handleMedia,"data-testid":"input-img",id:"input-img",accept:"image/*,video/*",multiple:!0}),l.a.createElement("br",null),l.a.createElement(go,{id:"submitId",onClick:this.handleSave},v.t("addFile.saveRoute"))),l.a.createElement(Lr,{id:"map",parentCallback:this.callbackFunction}))}}]),t}(l.a.Component));function vo(){var e=Object(w.a)(["\n  max-width: 128px;\n  display: inline-block;\n\n  &:first-child {\n    margin-right: 10px;\n  }\n"]);return vo=function(){return e},e}function xo(){var e=Object(w.a)(["\n    grid-template-columns: 1fr 1fr;\n  "]);return xo=function(){return e},e}function wo(){var e=Object(w.a)(["\n  padding: 20px 40px;\n  align-items: center;\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 20px 40px;\n  ","\n"]);return wo=function(){return e},e}function Eo(){var e=Object(w.a)(["\n  margin: 5px;\n"]);return Eo=function(){return e},e}function ko(){var e=Object(w.a)(["\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  background-image: url('img/pattern-geo.png'),\n  linear-gradient(135deg, #B05103 0%, #FD7200 50%, #F48E3C 100%);\n  background-repeat: repeat, no-repeat;\n  padding: 30px 20px;\n   h1 {\n    color: white;\n      font-weight: bold;\n      font : Verdana;\n  }\n"]);return ko=function(){return e},e}function yo(){var e=Object(w.a)(["\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n  background-color: white;\n  max-width: 90%;\n  margin: 0 20px;\n  width: 100%;\n  flex: 1 0 auto;\n   h1 {\n    color: black;\n      font-weight: bold;\n      font : Verdana;\n  }\n"]);return yo=function(){return e},e}function Oo(){var e=Object(w.a)(["\n  display: flex;\n  flex: 1 0 auto;\n  align-items: center;\n  justify-content: center;\n  background-image: url('img/concentric-hex-pattern_2x.png');\n  background-repeat: repeat;\n  padding: 60px 0;\n  \n  h1 {\n    color: white;\n      font-weight: bold;\n      font : Verdana;\n  }\n"]);return Oo=function(){return e},e}var jo=E.default.section(Oo()),No=E.default.div(yo()),So=E.default.div(ko());E.default.input(Eo()),E.default.form(wo(),P.tablet(xo())),E.default.button(vo());function Co(){var e=Object(w.a)(["\n    border = 1em;\n  padding: 10px 10px;\n  p;\n  .button{\n  background-color: transparent;\n  font-weight: bold;\n      font : Verdana;\n      font-size:24px;\n  }\n.modal {\n  text-align: center;\n}\n.map{\n  width: 10%;\n}\n\n"]);return Co=function(){return e},e}function Io(){var e=Object(w.a)(["\n  background-color: #fff;\n  margin: 30px auto;\n\n  //Overriding the style guide card flexbox settings\n  max-width: 90%;\n  flex-direction: row;\n  padding: 10px 0;\n  align-items: center;\n\n  button {\n    margin-right: 8px;\n  }\n"]);return Io=function(){return e},e}var Lo=E.default.div(Io()),Ro=E.default.div(Co()),Po={width:"99%",height:"75%"},Do=function(e){function t(e){var n;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(Oe.a)(t).call(this,e))).drawRoute=function(){return n.ruta.points.map(function(e,t){return l.a.createElement(jr.Marker,{key:t,id:t,position:{lat:e.latitud,lng:e.longitud},onClick:function(){return console.log("You clicked me!")}})})},n.ruta=n.props.ruta,console.log(n.ruta),n.pathCoordinates=[],n}return Object(je.a)(t,e),Object(ke.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",null," ",this.ruta.name),l.a.createElement("p",null," ",this.ruta.description),l.a.createElement(jr.Map,{google:this.props.google,zoom:14,style:Po,initialCenter:{lat:this.ruta.points[0].latitud,lng:this.ruta.points[0].longitud}},this.drawRoute(),this.addPolyline()))}},{key:"addPolyline",value:function(){for(var e=0;e<this.ruta.points.length;e++)console.log(e),this.pathCoordinates.push({lat:this.ruta.points[e].getLat(),lng:this.ruta.points[e].getLng()});return l.a.createElement(jr.Polyline,{strokeColor:"#ff8000",strokeOpacity:.8,strokeWeight:4,path:this.pathCoordinates})}}]),t}(c.Component),Fo=Object(jr.GoogleApiWrapper)({apiKey:"AIzaSyCOAPsIpth-pvZtOeXXB_9B7iVGi9RFAAE"})(Do),Ao=n(55),To=n(117),Mo=function(){var e=Object(A.a)(I.a.mark(function e(t,n,r,i,o){var c,l;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=i||ee.NotificationTypes.ANNOUNCE,e.next=4,a.getAppStorage(r);case 4:if(c=e.sent,"https://creativecommons.org/licenses/by-sa/4.0/",!(l={path:c+"inbox/",name:"Viade"})){e.next=18;break}return e.prev=8,e.next=11,t({title:n.title,summary:n.summary,actor:n.actor,object:n.object,target:n.target},l.path,i,"https://creativecommons.org/licenses/by-sa/4.0/");case 11:console.log("bueno parece que si"),zo(n.actor,r,o),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),console.log(e.t0);case 18:return e.abrupt("return",!0);case 21:return e.prev=21,e.t1=e.catch(0),console.error(e.t1),e.abrupt("return",!1);case 25:case"end":return e.stop()}},e,null,[[0,21],[8,15]])}));return function(t,n,r,a,i){return e.apply(this,arguments)}}(),zo=function(){var e=Object(A.a)(I.a.mark(function e(t,n,r){var a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.checkSpecificAppPermission(t,ee.AccessControlList.MODES.CONTROL);case 2:if(!e.sent){e.next=14;break}return e.next=6,i.setPermissionInRouteToFriend(t,n,r.webId);case 6:if(!(r.media.length>0)){e.next=14;break}a=0;case 8:if(!(a<r.media.length)){e.next=14;break}return e.next=11,i.setPermissionInRouteToFriend(t,n,r.media[a].contentUrl);case 11:a++,e.next=8;break;case 14:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),Uo=function(e){var t=e.data,n=e.sendNot,r=t.ruta,a=t.friends,i=0;function c(){return(c=Object(A.a)(I.a.mark(function e(t){var a,i;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.currentSession();case 3:return a=e.sent,i={title:"Route share",summary:"has shared you a route.",actor:a.webId,object:r.webId,target:t},e.next=7,o.publish(n.sendNotification,i,t,ee.NotificationTypes.OFFER,r);case 7:F(v.t("routeView.shareRouteGood","Great")),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),alert("Could not share the route");case 14:case"end":return e.stop()}},e,null,[[0,10]])}))).apply(this,arguments)}return l.a.createElement(Lo,{className:"card"},l.a.createElement(Ro,{"data-testid":"welcome-detail"},l.a.createElement("div",{className:"modal"},l.a.createElement("br",null),l.a.createElement(Ao.a,{trigger:l.a.createElement("button",{id:"verRuta",className:"button"}," ",r.name," "),modal:!0,closeOnDocumentClick:!0},l.a.createElement("span",{className:"map"}," ",l.a.createElement(Fo,{ruta:r})),l.a.createElement("div",{id:"img"}),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null))),l.a.createElement(Ao.a,{trigger:l.a.createElement("button",{id:"mediaRuta",className:"button"},l.a.createElement("img",{src:"img/icon/addRoute.svg",width:"20px",alt:"x"})),modal:!0,closeOnDocumentClick:!0},l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("button",{id:"verMedia",className:"button",onClick:function(){return function e(){var t=new zi,n=document.querySelector("#img"),a=document.querySelector("#buttonR"),o=document.querySelector("#buttonL");0===r.media.length?s.a.render(l.a.createElement("p",null,v.t("routeView.availability")),n):(i<0&&(i=0),i>r.media.length-1&&(i=r.media.length-1),"video"===r.media[i].type?t.loadMedia(r.media[i].contentUrl,function(e){var t=URL.createObjectURL(e);s.a.render(l.a.createElement("video",{controls:!0,className:"d-block route-img",src:t,width:"500",height:"500"}),n)}):"image"===r.media[i].type&&t.loadMedia(r.media[i].contentUrl,function(e){var t=URL.createObjectURL(e);s.a.render(l.a.createElement("img",{src:t,alt:"foto"+r.fileName,width:"500",height:"500"}),n)}),r.media.length>=2&&(s.a.render(l.a.createElement("button",{id:"mediaIzq",className:"button",onClick:function(){i--,e()},style:{float:"left"}},l.a.createElement("img",{src:"img/icon/flecha_izquierda.svg",width:"20px",alt:"x"})),o),s.a.render(l.a.createElement("button",{id:"mediaDer",className:"button",onClick:function(){i++,e()},style:{float:"right"}},l.a.createElement("img",{src:"img/icon/flecha_derecha.svg",width:"20px",alt:"x"})),a)))}()}},v.t("routeView.viewMedia")),l.a.createElement("p",null),l.a.createElement("div",{id:"buttonL"}),l.a.createElement("div",{id:"buttonR"}),l.a.createElement("p",null),l.a.createElement("div",{id:"img"}),l.a.createElement("p",null,l.a.createElement("br",null))),l.a.createElement(Ao.a,{trigger:l.a.createElement("button",{id:"compartirRuta",className:"button"},l.a.createElement("img",{src:"img/icon/share.svg",width:"20px",alt:"x"})),modal:!0,closeOnDocumentClick:!0},l.a.createElement("h3",null,v.t("routeView.selectFriend")),l.a.createElement("div",null,a.map(function(e){return l.a.createElement("p",null,l.a.createElement(To.a,{onClick:function(){return function(e){return c.apply(this,arguments)}(e.webId)},key:e.webId},e.name))})),l.a.createElement("p",null,l.a.createElement("br",null))))))},_o=function(e){var t=Object(p.c)().t,n=e.rutas,r=e.friends,a=e.webId,i=Object(ee.useNotification)(a).createNotification,o=Object(c.useCallback)(function(){var e=Object(A.a)(I.a.mark(function e(t,n,r,a){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i(t,n,r,a);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0),alert("Error: RouteConst > sendNotification");case 9:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t,n,r,a){return e.apply(this,arguments)}}(),[i]);return l.a.createElement(jo,null,l.a.createElement(No,null,l.a.createElement(So,null,l.a.createElement("h1",null,t("navBar.routes"))),l.a.createElement("div",null,n.map(function(e){return l.a.createElement(Uo,{data:{ruta:e,friends:r},sendNot:{sendNotification:o}})}),l.a.createElement("div",{id:"map"}))))},Bo=n(11);function Wo(){return(Wo=Object(A.a)(I.a.mark(function e(){var t,n,r,a,i,o,c,l,u,s,d,p,f,m;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bo.currentSession();case 2:t=e.sent,n=U.a[t.webId],r=[],a=!0,i=!1,e.prev=7,c=Object(Q.a)(n.friends);case 9:return e.next=11,c.next();case 11:return l=e.sent,a=l.done,e.next=15,l.value;case 15:if(u=e.sent,a){e.next=30;break}return s=u,e.next=20,s.value;case 20:return d=e.sent,p=U.a[d],e.next=24,p.name;case 24:f=e.sent,m={webId:d,name:f.toString()},r.push(m);case 27:a=!0,e.next=9;break;case 30:e.next=36;break;case 32:e.prev=32,e.t0=e.catch(7),i=!0,o=e.t0;case 36:if(e.prev=36,e.prev=37,a||null==c.return){e.next=41;break}return e.next=41,c.return();case 41:if(e.prev=41,!i){e.next=44;break}throw o;case 44:return e.finish(41);case 45:return e.finish(36);case 46:return e.abrupt("return",r);case 47:case"end":return e.stop()}},e,null,[[7,32,36,46],[37,,41,45]])}))).apply(this,arguments)}var Vo=n(62),qo=n(27),Go=function(){function e(t){Object(Ee.a)(this,e),this.file=t}return Object(ke.a)(e,[{key:"parse",value:function(){var e=JSON.parse(this.file),t=e.name,n=e.description,r=[],a=e.media,i=[];try{a.forEach(function(e){(e["@id"].toString().includes(".jpg")||e["@id"].toString().includes(".png")||e["@id"].toString().includes(".gif")||e["@id"].toString().includes(".jpeg"))&&i.push(new Mi(e["@id"],"","","image")),(e["@id"].toString().includes(".avi")||e["@id"].toString().includes(".mp4"))&&i.push(new Mi(e["@id"],"","","video"))})}catch(l){}try{var o=1;e.points.forEach(function(e){void 0===e.elevation?r.push(new Nr(e.latitude,e.longitude,o)):r.push(new Nr(e.latitude,e.longitude,o,e.elevation)),o+=1})}catch(l){}var c=new fi(t,r,n,"");return c.media=i,c}}]),e}(),Jo=n(11);function Xo(){return(Xo=Object(A.a)(I.a.mark(function e(){var t,n,r,a,i,o,c,l,u,s,d,p,f,m,g;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jo.currentSession();case 2:return t=e.sent,n=U.a[t.webId],r=new hr.a(Jo),e.next=7,Object(Vo.a)(n);case 7:return a=e.sent,i=a.getSubject(n),o=i.getRef(qo.b.storage),e.next=12,r.readFolder(o+"viade/routes").then(function(e){c=e}).catch(function(e){return c=null});case 12:if(l=[],!c){e.next=35;break}u=0;case 15:if(!(u<c.files.length)){e.next=35;break}if(s=c.files[u].url.split("."),"text/turtle"!==c.files[u].type){e.next=25;break}return d=void 0,e.next=21,Object(Vo.a)(c.files[u].url).then(function(e){d=e}).catch(function(e){return d=null});case 21:if(null==d){e.next=23;break}return e.delegateYield(I.a.mark(function e(){var t,n,r,a,i,o,s,f,m,g,b,h;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0===(t=d.getSubject("http://example.org/myRoute")).getTriples().length&&(t=d.getSubject(c.files[u].url+"#myRoute")),n=t.getAllLocalSubjects("http://arquisoft.github.io/viadeSpec/point"),r=t.getAllRefs("http://arquisoft.github.io/viadeSpec/hasMediaAttached"),p=[],!(r.length>0)){e.next=20;break}a=0;case 7:if(!(a<r.length)){e.next=20;break}return i=d.getSubject(r[a]),o=i.getDateTime(qo.a.publishedDate),s=U.a[i.getRef(qo.a.author)],f=i.getRef(qo.a.contentUrl),e.next=14,Ko(f);case 14:m=e.sent,"image"===(g=m.type.split("/")[0])?p.push(new Mi(f,s.value,o,"image")):"video"===g&&p.push(new Mi(f,s.value,o,"video"));case 17:a++,e.next=7;break;case 20:b=[],n.forEach(function(e){return b.push(new Nr(e.getDecimal(qo.a.latitude),e.getDecimal(qo.a.longitude)))}),null!==t.getString(qo.a.name)&&((h=new fi(t.getString(qo.a.name),b,t.getString(qo.a.description))).setWebId(c.files[u].url),h.setMedia(p),l.push(h));case 23:case"end":return e.stop()}},e)})(),"t0",23);case 23:e.next=32;break;case 25:if("text/plain"!==c.files[u].type||"jsonld"!==s[s.length-1]){e.next=32;break}return e.next=28,Ho(c.files[u].url).then(function(e){f=e});case 28:m=new Go(f),(g=m.parse()).setWebId(c.files[u].url),l.push(g);case 32:u++,e.next=15;break;case 35:return e.abrupt("return",l);case 36:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ko(e){return Yo.apply(this,arguments)}function Yo(){return(Yo=Object(A.a)(I.a.mark(function e(t){var n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new hr.a(Jo),e.next=3,n.itemExists(t);case 3:if(!e.sent){e.next=7;break}return e.next=6,n.readFile(t);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ho=function(){var e=Object(A.a)(I.a.mark(function e(t){var n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new hr.a(Jo),e.next=3,n.readFile(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),$o=function(){function e(){Object(Ee.a)(this,e)}return Object(ke.a)(e,null,[{key:"getFriends",value:function(){return function(){return Wo.apply(this,arguments)}()}},{key:"getRoutes",value:function(){return function(){return Xo.apply(this,arguments)}()}}]),e}(),Zo=function(e){function t(e){var n;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(Oe.a)(t).call(this,e))).getFriends=Object(A.a)(I.a.mark(function e(){var t;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$o.getFriends();case 2:t=e.sent,n.setState({friends:t});case 4:case"end":return e.stop()}},e)})),n.listRoutes=Object(A.a)(I.a.mark(function e(){var t;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$o.getRoutes();case 2:t=e.sent,n.setState({rutas:t});case 4:case"end":return e.stop()}},e)})),n.state={rutas:[],friends:[]},n}return Object(je.a)(t,e),Object(ke.a)(t,[{key:"componentDidMount",value:function(){this.props.webId&&(this.listRoutes(),this.getFriends())}},{key:"componentDidUpdate",value:function(e){var t=this.props.webId;t&&t!==e.webId&&(this.listRoutes(),this.getFriends())}},{key:"render",value:function(){var e=this.state,t=e.rutas,n=e.friends;return l.a.createElement(_o,{rutas:t,friends:n})}}]),t}(c.Component);function Qo(){var e=Object(w.a)(["\n    color: white;\n    font-weight: bold;\n    font : Verdana;\n  }\n"]);return Qo=function(){return e},e}function ec(){var e=Object(w.a)(["\n    display: flex;\n    position: relative;\n    align-items: center;\n    justify-content: center;\n    linear-gradient(135deg, #B05103 0%, #FD7200 50%, #F48E3C 100%);\n    padding: 30px 20px;\n"]);return ec=function(){return e},e}function tc(){var e=Object(w.a)(["\n    max-width: 128px;\n    display: inline-block;\n    size: 100px;\n    &:first-child {\n    margin-right: 10px;\n    }\n"]);return tc=function(){return e},e}function nc(){var e=Object(w.a)(["\n    display: flex;\n    position: relative;\n    align-items: center;\n    justify-content: center;\n    background-image: url('img/pattern-geo.png'),\n    linear-gradient(135deg, #B05103 0%, #FD7200 50%, #F48E3C 100%);\n    background-repeat: repeat, no-repeat;\n    padding: 30px 20px;\n"]);return nc=function(){return e},e}function rc(){var e=Object(w.a)(["\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n  background-color: white;\n  max-width: 90%;\n  margin: 0 20px;\n  width: 100%;\n  flex: 1 0 auto;\n   h1 {\n    color: black;\n      font-weight: bold;\n      font : Verdana;\n  }\n"]);return rc=function(){return e},e}function ac(){var e=Object(w.a)(["\n  padding: 150px\n  position: relative\n  display: flex;\n  flex: 1 0 auto;\n  display: block;\n  text-align: center;\n  flex-direction:row !important;\n  background-image: url('img/concentric-hex-pattern_2x.png');\n  background-repeat: repeat;\n  height: inherit;\n  width: 100vw !important;\n"]);return ac=function(){return e},e}var ic=E.default.section(ac()),oc=E.default.div(rc()),cc=E.default.div(nc());E.default.button(tc()),E.default.input(ec()),E.default.h1(Qo());function lc(){var e=Object(w.a)(["\n    border = 1em;\n  padding: 1rem 3.5rem;\n  p;\n  .button{\n  background-color: transparent;\n  font-weight: bold;\n      font : Verdana;\n      font-size:24px;\n  }\n.modal {\n  text-align: center;\n}\n.map{\n  width: 10%;\n}\n\n"]);return lc=function(){return e},e}function uc(){var e=Object(w.a)(["\n  background-color: #fff;\n  margin: 30px auto;\n\n  //Overriding the style guide card flexbox settings\n  max-width: 90%;\n  flex-direction: row;\n  padding: 10px 0;\n  align-items: center;\n\n  button {\n    margin-right: 8px;\n  }\n"]);return uc=function(){return e},e}var sc=E.default.div(uc()),dc=E.default.div(lc()),pc=function(e){var t=e.data.ruta,n=0;return l.a.createElement(sc,{className:"card"},l.a.createElement(dc,{"data-testid":"welcome-detail"},l.a.createElement("div",{className:"modal"},l.a.createElement("br",null),l.a.createElement(Ao.a,{trigger:l.a.createElement("button",{id:"verRuta",className:"button"}," ",t.name," "),modal:!0,closeOnDocumentClick:!0},l.a.createElement("span",{className:"map"}," ",l.a.createElement(Fo,{ruta:t})),l.a.createElement("div",{id:"img"}),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null))),l.a.createElement(Ao.a,{trigger:l.a.createElement("button",{id:"mediaRuta",className:"button"}," ",l.a.createElement("img",{src:"img/icon/addRoute.svg",width:"20px",alt:"x"})," "),modal:!0,closeOnDocumentClick:!0},l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("p",null,l.a.createElement("br",null)),l.a.createElement("button",{className:"button",onClick:function(){return function e(){var r=new zi,a=document.querySelector("#img"),i=document.querySelector("#buttonR"),o=document.querySelector("#buttonL");0===t.media.length?s.a.render(l.a.createElement("p",null,v.t("routeView.availability")),a):(n<0&&(n=0),n>t.media.length-1&&(n=t.media.length-1),"video"===t.media[n].type?r.loadMedia(t.media[n].contentUrl,function(e){var t=URL.createObjectURL(e);s.a.render(l.a.createElement("video",{controls:!0,className:"d-block route-img",src:t,width:"500",height:"500"}),a)}):"image"===t.media[n].type&&r.loadMedia(t.media[n].contentUrl,function(e){var n=URL.createObjectURL(e);s.a.render(l.a.createElement("img",{src:n,alt:"foto"+t.fileName,width:"500",height:"500"}),a)}),t.media.length>=2&&(s.a.render(l.a.createElement("button",{id:"mediaIzq",className:"button",onClick:function(){n--,e()},style:{float:"left"}},l.a.createElement("img",{src:"img/icon/flecha_izquierda.svg",width:"20px",alt:"x"})),o),s.a.render(l.a.createElement("button",{id:"mediaDer",className:"button",onClick:function(){n++,e()},style:{float:"right"}},l.a.createElement("img",{src:"img/icon/flecha_derecha.svg",width:"20px",alt:"x"})),i)))}()}},v.t("routeView.viewMedia")),l.a.createElement("p",null),l.a.createElement("div",{id:"buttonL"}),l.a.createElement("div",{id:"buttonR"}),l.a.createElement("p",null),l.a.createElement("div",{id:"img"}),l.a.createElement("p",null,l.a.createElement("br",null))))))},fc=function(e){var t=e.friends,n=e.routes,r=e.see;function a(e){r.getRoutesSharedWithMe(e)}return l.a.createElement(ic,null,l.a.createElement(oc,null,l.a.createElement(cc,null,l.a.createElement("h1",{style:{color:"white"}},v.t("friendRoutes.title"))),l.a.createElement("div",null,t.map(function(e){return l.a.createElement("p",null,l.a.createElement(To.a,{onClick:a.bind(void 0,e.webId),key:e.webId},e.name))}),l.a.createElement("h2",null,v.t("friendRoutes.routes"),":"),l.a.createElement(Lo,null,n.map(function(e){return l.a.createElement(pc,{data:{ruta:e}})}),l.a.createElement("div",{id:"map"})))))},mc=function(){var e=Object(A.a)(I.a.mark(function e(t,n){var i,o,c,l,u,s;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getAppStorage(t);case 2:return i=e.sent,o=n.split("//")[1].split("/")[0],c="".concat(i,"shared/").concat(o,".jsonld"),l=[],e.next=8,r.resourceExists(c);case 8:if(!e.sent){e.next=13;break}return u={},e.next=12,gc(c).then(function(e){u=JSON.parse(e)});case 12:for(s=0;s<u.routes.length;s++)l.push(u.routes[s]["@id"]);case 13:return e.abrupt("return",l);case 14:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),gc=function(){var e=Object(A.a)(I.a.mark(function e(t){var n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new hr.a(M.a),e.next=3,n.itemExists(t);case 3:if(!e.sent){e.next=7;break}return e.next=6,n.readFile(t);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),bc=n(11),hc=function(e){function t(e){var n;return Object(Ee.a)(this,t),(n=Object(ye.a)(this,Object(Oe.a)(t).call(this,e))).getFriends=Object(A.a)(I.a.mark(function e(){var t,r,a,i,o,c,l,u,s,d,p,f,m,g;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({isLoading:!0}),t=n.props.webId,r=U.a[t],a=[],i=!0,o=!1,e.prev=6,l=Object(Q.a)(r.friends);case 8:return e.next=10,l.next();case 10:return u=e.sent,i=u.done,e.next=14,u.value;case 14:if(s=e.sent,i){e.next=29;break}return d=s,e.next=19,d.value;case 19:return p=e.sent,f=U.a[p],e.next=23,f.name;case 23:m=e.sent,g={webId:p,name:m.toString()},a.push(g);case 26:i=!0,e.next=8;break;case 29:e.next=35;break;case 31:e.prev=31,e.t0=e.catch(6),o=!0,c=e.t0;case 35:if(e.prev=35,e.prev=36,i||null==l.return){e.next=40;break}return e.next=40,l.return();case 40:if(e.prev=40,!o){e.next=43;break}throw c;case 43:return e.finish(40);case 44:return e.finish(35);case 45:n.setState({friends:a});case 46:case"end":return e.stop()}},e,null,[[6,31,35,45],[36,,40,44]])})),n.getRoutesSharedWithMe=function(){var e=Object(A.a)(I.a.mark(function e(t){var r,a,i,o,c,l,u,s,d,p,f,m,g,b,h,v,x,w;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isLoading:!0}),r=n.props.webId,a=[],e.next=5,mc(r,t);case 5:if(0!==(a=e.sent).length)for(i=[],o=0;o<a.length;o++)i.push(a[o]);c=[],l=!0,u=!1,e.prev=10,d=Object(Q.a)(a);case 12:return e.next=14,d.next();case 14:return p=e.sent,l=p.done,e.next=18,p.value;case 18:if(f=e.sent,l){e.next=38;break}if("jsonld"!==(g=(m=f).split("."))[g.length-1]){e.next=31;break}return e.next=25,vc(v).then(function(e){b=e});case 25:h=new Go(b),(v=h.parse()).setWebId(v),c.push(v),e.next=35;break;case 31:return e.next=33,Object(Vo.a)(Object(m)).then(function(e){x=e}).catch(function(e){return x=null});case 33:if(null==x){e.next=35;break}return e.delegateYield(I.a.mark(function e(){var t,r,a,i,o,l,u,s,d,p,f,m;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=x.getSubject("http://example.org/myRoute"),r=t.getAllLocalSubjects("http://arquisoft.github.io/viadeSpec/point"),a=t.getAllRefs("http://arquisoft.github.io/viadeSpec/hasMediaAttached"),w=[],!(a.length>0)){e.next=19;break}i=0;case 6:if(!(i<a.length)){e.next=19;break}return o=x.getSubject(a[i]),l=o.getDateTime(qo.a.publishedDate),u=U.a[o.getRef(qo.a.author)],s=o.getRef(qo.a.contentUrl),e.next=13,n.getMedia(s);case 13:d=e.sent,"image"===(p=d.type.split("/")[0])?w.push(new Mi(s,u.value,l,"image")):"video"===p&&w.push(new Mi(s,u.value,l,"video"));case 16:i++,e.next=6;break;case 19:f=[],r.forEach(function(e){return f.push(new Nr(e.getDecimal(qo.a.latitude),e.getDecimal(qo.a.longitude)))}),null!==t.getString(qo.a.name)&&((m=new fi(t.getString(qo.a.name),f,t.getString(qo.a.description))).setWebId(t),m.setMedia(w),c.push(m));case 22:case"end":return e.stop()}},e)})(),"t0",35);case 35:l=!0,e.next=12;break;case 38:e.next=44;break;case 40:e.prev=40,e.t1=e.catch(10),u=!0,s=e.t1;case 44:if(e.prev=44,e.prev=45,l||null==d.return){e.next=49;break}return e.next=49,d.return();case 49:if(e.prev=49,!u){e.next=52;break}throw s;case 52:return e.finish(49);case 53:return e.finish(44);case 54:n.setState({routes:c});case 55:case"end":return e.stop()}},e,null,[[10,40,44,54],[45,,49,53]])}));return function(t){return e.apply(this,arguments)}}(),n.state={friends:[],routes:[]},n}return Object(je.a)(t,e),Object(ke.a)(t,[{key:"componentDidMount",value:function(){this.props.webId&&this.getFriends()}},{key:"componentDidUpdate",value:function(e){var t=this.props.webId;t&&t!==e.webId&&this.getFriends()}},{key:"getMedia",value:function(){var e=Object(A.a)(I.a.mark(function e(t){var n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new hr.a(bc),e.next=3,n.itemExists(t);case 3:if(!e.sent){e.next=7;break}return e.next=6,n.readFile(t);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.friends,n=e.routes,r={getRoutesSharedWithMe:this.getRoutesSharedWithMe.bind(this)};return l.a.createElement(fc,{friends:t,routes:n,see:r})}}]),t}(c.Component),vc=function(){var e=Object(A.a)(I.a.mark(function e(t){var n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new hr.a(bc),e.next=3,n.readFile(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),xc=[{id:"welcome",path:"/welcome",component:$a},{id:"profile",path:"/profile",component:di},{id:"friends",path:"/friends/listFriends",component:eo},{id:"addRoute",path:"/routes/addRoute",component:ho},{id:"listRoutes",path:"/routes/listRoutes",component:Zo},{id:"addFile",path:"/routes/addFile",component:Ui},{id:"friendRoute",path:"/friendRoute",component:hc}],wc=function(){return l.a.createElement(Yr.a,null,l.a.createElement(c.Fragment,null,l.a.createElement(Mr.a,null,l.a.createElement(Tr,{component:ia,path:"/login",exact:!0}),l.a.createElement(Tr,{component:Na,path:"/register",exact:!0}),l.a.createElement(Tr,{path:"/register/success",component:ya,exact:!0}),l.a.createElement(Kr,{path:"/404",component:Ra,exact:!0}),l.a.createElement(Ot.a,{from:"/",to:"/welcome",exact:!0}),l.a.createElement(Wr,{path:"/",routes:xc}),l.a.createElement(Ot.a,{to:"/404"}))))},Ec={colors:{},tictactoe:{movex:"#13428f",moveo:"#820d2c",awaiting:"#cf6700",created:"#039c40",finished:"#8200a6"}};n(217),n(219),n(221),n(223),n(225);function kc(){var e=Object(w.a)(["\n  &.solid-toaster-container {\n    min-width: 410px;\n    margin-left: 0;\n    transform: translateX(-50%);\n    padding: 0;\n    & .toaster-error {\n      color: #fff;\n      background: rgba(213, 0, 0, 0.9);\n    }\n\n    & .toaster-success {\n      color: #fff;\n      background: rgba(124, 77, 255, 0.9);\n    }\n  }\n\n  & .solid-toaster {\n    border-radius: 4px;\n    min-width: 410px;\n    color: #fff;\n    display: flex;\n    align-content: center;\n    min-height: 72px;\n    margin: 0;\n\n    & > .solid-toaster-body {\n      margin: 0;\n      display: flex;\n    }\n\n    & > button {\n      color: #fff;\n      opacity: 0.8;\n    }\n  }\n"]);return kc=function(){return e},e}var yc=Object(E.default)(x.b)(kc());wt.c.add(Et.a),wt.c.add(kt.a);var Oc=function(){return l.a.createElement(c.Suspense,{fallback:l.a.createElement(Qe,null)},l.a.createElement(E.ThemeProvider,{theme:Ec},l.a.createElement(c.Fragment,null,l.a.createElement(wc,null),l.a.createElement(yc,{autoClose:3e3,position:x.c.POSITION.TOP_CENTER,newestOnTop:!0,closeOnClick:!0,pauseOnVisibilityChange:!0,draggable:!0,className:"solid-toaster-container",toastClassName:"solid-toaster",bodyClassName:"solid-toaster-body",transition:x.a}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(jt,{component:function(e,t){return l.a.createElement(Vt,{error:e,info:t})}},l.a.createElement(Oc,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[125,1,2]]]);
//# sourceMappingURL=main.08a6df99.chunk.js.map